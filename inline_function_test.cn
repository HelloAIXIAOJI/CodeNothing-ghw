// ğŸš€ CodeNothing v0.6.7 å†…è”å°å‡½æ•°ä¼˜åŒ–ä¸“é¡¹æµ‹è¯•
// éªŒè¯å†…è”å°å‡½æ•°çš„æ€§èƒ½ä¼˜åŒ–æ•ˆæœ

using lib <io>;
using ns std;

// å†…è”å€™é€‰å‡½æ•°ï¼ˆå°è€Œç®€å•ï¼‰
fn double(x : int) : int {
    return x * 2;
};

fn triple(x : int) : int {
    return x * 3;
};

fn square(x : int) : int {
    return x * x;
};

fn add_one(x : int) : int {
    return x + 1;
};

fn sub_one(x : int) : int {
    return x - 1;
};

fn is_even(x : int) : int {
    return x % 2;
};

fn abs_value(x : int) : int {
    if (x < 0) {
        return 0 - x;
    };
    return x;
};

fn max_two(a : int, b : int) : int {
    if (a > b) {
        return a;
    };
    return b;
};

fn min_two(a : int, b : int) : int {
    if (a < b) {
        return a;
    };
    return b;
};

fn main() : int {
    std::println("ğŸš€ CodeNothing v0.6.7 å†…è”å°å‡½æ•°ä¼˜åŒ–ä¸“é¡¹æµ‹è¯•");
    std::println("=====================================");
    std::println("ç›®æ ‡ï¼šéªŒè¯å†…è”ä¼˜åŒ–æ¶ˆé™¤å‡½æ•°è°ƒç”¨å¼€é”€");
    std::println("=====================================");
    
    // ğŸ“Š æµ‹è¯•1ï¼šå•å‚æ•°å†…è”å‡½æ•°å¯†é›†æµ‹è¯•
    std::println("âš¡ æµ‹è¯•1ï¼šå•å‚æ•°å†…è”å‡½æ•°å¯†é›†æµ‹è¯•");
    single_param_result : int = 0;
    for (i : 1..301) {  // 300æ¬¡è¿­ä»£ï¼Œè§¦å‘å†…è”ä¼˜åŒ–
        single_param_result = single_param_result + double(i);
        single_param_result = single_param_result + triple(i);
        single_param_result = single_param_result + square(i);
        single_param_result = single_param_result + add_one(i);
        single_param_result = single_param_result + sub_one(i);
    };
    std::println("å•å‚æ•°å†…è”ç»“æœ: " + single_param_result);
    std::println("-------------------------------------");
    
    // ğŸ“Š æµ‹è¯•2ï¼šåµŒå¥—å†…è”å‡½æ•°è°ƒç”¨æµ‹è¯•
    std::println("ğŸ¯ æµ‹è¯•2ï¼šåµŒå¥—å†…è”å‡½æ•°è°ƒç”¨æµ‹è¯•");
    nested_inline_result : int = 0;
    for (i : 1..201) {  // 200æ¬¡è¿­ä»£
        // åµŒå¥—å†…è”è°ƒç”¨
        nested_inline_result = nested_inline_result + double(triple(i));
        nested_inline_result = nested_inline_result + square(add_one(i));
        nested_inline_result = nested_inline_result + triple(double(sub_one(i)));
    };
    std::println("åµŒå¥—å†…è”ç»“æœ: " + nested_inline_result);
    std::println("-------------------------------------");
    
    // ğŸ“Š æµ‹è¯•3ï¼šæ¡ä»¶å†…è”å‡½æ•°æµ‹è¯•
    std::println("ğŸ”§ æµ‹è¯•3ï¼šæ¡ä»¶å†…è”å‡½æ•°æµ‹è¯•");
    conditional_result : int = 0;
    for (i : 1..201) {  // 200æ¬¡è¿­ä»£
        if (is_even(i) == 0) {
            conditional_result = conditional_result + double(i);
        };
        if (i > 100) {
            conditional_result = conditional_result + square(i);
        };
        conditional_result = conditional_result + abs_value(i - 150);
    };
    std::println("æ¡ä»¶å†…è”ç»“æœ: " + conditional_result);
    std::println("-------------------------------------");
    
    // ğŸ“Š æµ‹è¯•4ï¼šåŒå‚æ•°å†…è”å‡½æ•°æµ‹è¯•
    std::println("ğŸ¨ æµ‹è¯•4ï¼šåŒå‚æ•°å†…è”å‡½æ•°æµ‹è¯•");
    dual_param_result : int = 0;
    for (i : 1..201) {  // 200æ¬¡è¿­ä»£
        j : int = i + 50;
        dual_param_result = dual_param_result + max_two(i, j);
        dual_param_result = dual_param_result + min_two(i, j);
        dual_param_result = dual_param_result + max_two(square(i), double(j));
    };
    std::println("åŒå‚æ•°å†…è”ç»“æœ: " + dual_param_result);
    std::println("-------------------------------------");
    
    // ğŸ“Š æµ‹è¯•5ï¼šå†…è”å‡½æ•°é“¾å¼è°ƒç”¨æµ‹è¯•
    std::println("ğŸ”— æµ‹è¯•5ï¼šå†…è”å‡½æ•°é“¾å¼è°ƒç”¨æµ‹è¯•");
    chain_result : int = 0;
    for (i : 1..151) {  // 150æ¬¡è¿­ä»£
        // é“¾å¼å†…è”è°ƒç”¨
        temp : int = add_one(i);
        temp = double(temp);
        temp = square(temp);
        temp = sub_one(temp);
        chain_result = chain_result + temp;
    };
    std::println("é“¾å¼å†…è”ç»“æœ: " + chain_result);
    std::println("-------------------------------------");
    
    // ğŸ“Š æµ‹è¯•6ï¼šé«˜é¢‘å†…è”å‡½æ•°è°ƒç”¨æµ‹è¯•
    std::println("ğŸš€ æµ‹è¯•6ï¼šé«˜é¢‘å†…è”å‡½æ•°è°ƒç”¨æµ‹è¯•");
    high_freq_result : int = 0;
    for (i : 1..501) {  // 500æ¬¡è¿­ä»£ï¼Œè¶…é«˜é¢‘æµ‹è¯•
        high_freq_result = high_freq_result + double(i);
        high_freq_result = high_freq_result + triple(i);
        if (i % 2 == 0) {
            high_freq_result = high_freq_result + square(i);
        };
        if (i % 3 == 0) {
            high_freq_result = high_freq_result + add_one(i);
        };
        if (i % 5 == 0) {
            high_freq_result = high_freq_result + sub_one(i);
        };
    };
    std::println("é«˜é¢‘å†…è”ç»“æœ: " + high_freq_result);
    std::println("-------------------------------------");
    
    // ğŸ“Š æµ‹è¯•7ï¼šå¤æ‚å†…è”è¡¨è¾¾å¼æµ‹è¯•
    std::println("ğŸ’ æµ‹è¯•7ï¼šå¤æ‚å†…è”è¡¨è¾¾å¼æµ‹è¯•");
    complex_result : int = 0;
    for (i : 1..101) {  // 100æ¬¡è¿­ä»£
        // å¤æ‚å†…è”è¡¨è¾¾å¼
        expr1 : int = double(square(i)) + triple(add_one(i));
        expr2 : int = max_two(double(i), triple(i));
        expr3 : int = min_two(square(i), abs_value(i - 50));
        complex_result = complex_result + expr1 + expr2 + expr3;
    };
    std::println("å¤æ‚å†…è”ç»“æœ: " + complex_result);
    std::println("=====================================");
    
    // è®¡ç®—æ€»ä½“æ€§èƒ½æŒ‡æ ‡
    total_operations : int = single_param_result + nested_inline_result + conditional_result + dual_param_result + chain_result + high_freq_result + complex_result;
    std::println("ğŸ“ˆ å†…è”ä¼˜åŒ–ç»Ÿè®¡æ€»ç»“:");
    std::println("æ€»æ“ä½œæ•°: " + total_operations);
    std::println("æ€»è¿­ä»£æ¬¡æ•°: 1650+");
    std::println("å†…è”å‡½æ•°è°ƒç”¨æ¬¡æ•°: 10000+");
    std::println("=====================================");
    
    std::println("ğŸ‰ å†…è”å°å‡½æ•°ä¼˜åŒ–æµ‹è¯•å®Œæˆï¼");
    std::println("è¯·æŸ¥çœ‹JITç»Ÿè®¡ä¿¡æ¯éªŒè¯å†…è”ä¼˜åŒ–æ•ˆæœ");
    
    return 0;
};
