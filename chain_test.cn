using lib <io>;
using lib <fs>;

fn main() : int {
    // 测试字符串链式调用
    str : string = "  Hello World  ";
    std::println("原始字符串: '" + str + "'");
    
    // 链式调用：trim -> to_upper -> substring
    result : string = str.trim().to_upper().substring(0, 5);
    std::println("链式调用结果: '" + result + "'");
    
    // 测试字符串长度
    length : int = str.trim().length();
    std::println("字符串长度: " + length);
    
    // 测试文件系统链式调用
    if (fs::exists("test.txt")) {
        content : string = fs::file::read("test.txt");
        std::println("文件内容长度: " + content.length());
    } else {
        std::println("文件不存在，创建测试文件");
        fs::file::write("test.txt", "Hello Chain Call!");
        
        // 链式调用：读取 -> 转换大小写 -> 获取长度
        file_length : int = fs::file::read("test.txt").to_upper().length();
        std::println("文件内容处理后长度: " + file_length);
    }
    
    return 0;
}; 