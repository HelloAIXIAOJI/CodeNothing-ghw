// 09_exception_handling.cn - 异常处理测试
using lib <io>;

fn main() : int {
    println("=== 异常处理测试 ===");

    // 1. 基本 try-catch 测试
    println("1. 基本 try-catch 测试");

    try {
        println("  执行 try 块...");
        throw "这是一个测试异常";
        println("  这行不会执行");
    } catch (e : Exception) {
        println("  捕获到异常: " + e);
    };

    // 2. try-catch-finally 测试
    println("2. try-catch-finally 测试");

    try {
        println("  执行 try 块（带 finally）...");
        throw "另一个测试异常";
        println("  这行不会执行");
    } catch (e : Exception) {
        println("  捕获到异常: " + e);
    } finally {
        println("  finally 块总是执行");
    };

    // 3. 没有异常的 try-catch
    println("3. 没有异常的 try-catch 测试");

    try {
        println("  执行正常的 try 块...");
        println("  没有异常发生");
    } catch (e : Exception) {
        println("  这行不会执行");
    } finally {
        println("  finally 块仍然执行");
    };

    println("=== 异常处理测试完成 ===");
    return 0;
};


