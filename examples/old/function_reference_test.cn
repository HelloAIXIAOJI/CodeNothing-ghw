using lib <io>;
using ns std;

// 函数引用测试（简化版）

fn addNumbers(a : int, b : int) : int {
    return a + b;
};

fn multiplyNumbers(a : int, b : int) : int {
    return a * b;
};

fn main() : int {
    std::println("=== CodeNothing 函数引用测试 ===");
    
    // 测试函数引用（使用现有的FunctionReference语法）
    std::println("测试函数引用功能");
    
    // 直接调用函数
    result1 : int = addNumbers(10, 5);
    std::println("addNumbers(10, 5) = " + result1);
    
    result2 : int = multiplyNumbers(10, 5);
    std::println("multiplyNumbers(10, 5) = " + result2);
    
    // 测试高阶函数概念
    result3 : int = calculate(10, 5, "add");
    std::println("calculate(10, 5, \"add\") = " + result3);
    
    result4 : int = calculate(10, 5, "multiply");
    std::println("calculate(10, 5, \"multiply\") = " + result4);
    
    std::println("");
    std::println("=== 函数引用测试完成 ===");
    return 0;
};

// 模拟高阶函数（使用字符串标识函数）
fn calculate(a : int, b : int, operation : string) : int {
    if (operation == "add") {
        return addNumbers(a, b);
    } else if (operation == "multiply") {
        return multiplyNumbers(a, b);
    } else {
        return 0;
    };
};
