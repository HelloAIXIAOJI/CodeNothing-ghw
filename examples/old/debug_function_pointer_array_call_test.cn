using lib <io>;
using ns std;

// 调试函数指针数组调用测试

fn add(a : int, b : int) : int {
    return a + b;
};

fn subtract(a : int, b : int) : int {
    return a - b;
};

fn main() : int {
    std::println("=== 调试函数指针数组调用测试 ===");
    
    // 测试函数指针数组初始化
    operations : []*fn(int, int) : int = [add, subtract];
    std::println("函数指针数组初始化成功");
    
    // 分步测试：先获取函数指针，再调用
    firstOp : *fn(int, int) : int = operations[0];
    result1 : int = firstOp(10, 5);
    std::println("operations[0](10, 5) = " + result1);
    
    secondOp : *fn(int, int) : int = operations[1];
    result2 : int = secondOp(10, 5);
    std::println("operations[1](10, 5) = " + result2);
    
    std::println("=== 测试完成 ===");
    return 0;
};
