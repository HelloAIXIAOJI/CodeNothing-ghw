using lib <io>;
using ns std;

// 函数指针调用测试

fn addNumbers(a : int, b : int) : int {
    return a + b;
};

fn multiplyNumbers(a : int, b : int) : int {
    return a * b;
};

fn greet(name : string) : string {
    return "Hello, " + name + "!";
};

fn getNumber() : int {
    return 42;
};

fn main() : int {
    std::println("=== CodeNothing 函数指针调用测试 ===");
    
    // 测试函数指针调用
    mathFunc : *fn(int, int) : int = addNumbers;
    result1 : int = mathFunc(10, 5);
    std::println("mathFunc(10, 5) = " + result1);
    
    // 重新赋值并调用
    mathFunc = multiplyNumbers;
    result2 : int = mathFunc(10, 5);
    std::println("mathFunc(10, 5) = " + result2);
    
    // 字符串函数指针调用
    stringFunc : *fn(string) : string = greet;
    greeting : string = stringFunc("World");
    std::println("stringFunc(\"World\") = " + greeting);
    
    // 无参数函数指针调用
    simpleFunc : *fn() : int = getNumber;
    number : int = simpleFunc();
    std::println("simpleFunc() = " + number);
    
    std::println("");
    std::println("=== 函数指针调用测试完成 ===");
    return 0;
};
