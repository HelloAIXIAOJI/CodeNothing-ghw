using lib <io>;
using ns std;

// CodeNothing 简单增强指针测试

fn main() : int {
    std::println("=== CodeNothing 简单增强指针测试 ===");
    
    // 测试基础指针操作
    value : int = 42;
    ptr : *int = &value;
    
    std::println("基础指针测试:");
    std::println("原始值: " + value);
    std::println("指针: " + ptr);
    std::println("解引用: " + *ptr);
    
    // 测试指针算术
    ptr1 : *int = ptr + 1;
    ptr2 : *int = ptr + 2;
    
    std::println("指针算术:");
    std::println("ptr + 1: " + ptr1);
    std::println("ptr + 2: " + ptr2);
    
    // 测试指针差值
    diff : int = ptr2 - ptr;
    std::println("指针差值: " + diff);
    
    // 测试指针比较
    backPtr : *int = ptr1 - 1;
    std::println("往返指针: " + backPtr);
    
    if (ptr.toString() == backPtr.toString()) {
        std::println("✓ 指针算术正确");
    } else {
        std::println("✗ 指针算术错误");
    };
    
    std::println("=== 测试完成 ===");
    return 0;
};
