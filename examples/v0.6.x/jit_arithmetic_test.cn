// ğŸš€ JITç®—æœ¯è¡¨è¾¾å¼æµ‹è¯•ç¨‹åº
using lib <io>;
using ns std;

fn main() : int {
    std::println("ğŸš€ JITç®—æœ¯è¡¨è¾¾å¼æµ‹è¯•å¼€å§‹");
    
    // æµ‹è¯•1: ç®€å•çš„äºŒå…ƒè¿ç®—
    std::println("\n=== æµ‹è¯•1: ç®€å•äºŒå…ƒè¿ç®— ===");
    a : int = 10;
    b : int = 20;
    
    result1 : int = a + b;
    std::println("a + b = " + result1);
    
    result2 : int = a - b;
    std::println("a - b = " + result2);
    
    result3 : int = a * b;
    std::println("a * b = " + result3);
    
    result4 : int = b / a;
    std::println("b / a = " + result4);
    
    result5 : int = b % a;
    std::println("b % a = " + result5);
    
    // æµ‹è¯•2: å¤æ‚è¡¨è¾¾å¼
    std::println("\n=== æµ‹è¯•2: å¤æ‚è¡¨è¾¾å¼ ===");
    x : int = 5;
    y : int = 3;
    z : int = 2;
    
    complex1 : int = x + y * z;
    std::println("x + y * z = " + complex1);
    
    complex2 : int = (x + y) * z;
    std::println("(x + y) * z = " + complex2);
    
    complex3 : int = x * y + z * x;
    std::println("x * y + z * x = " + complex3);
    
    // æµ‹è¯•3: çƒ­ç‚¹æ£€æµ‹ - é‡å¤è®¡ç®—ç›¸åŒè¡¨è¾¾å¼
    std::println("\n=== æµ‹è¯•3: çƒ­ç‚¹æ£€æµ‹ (é‡å¤è®¡ç®—) ===");
    i : int = 0;
    sum : int = 0;
    
    while (i < 150) {  // è¶…è¿‡JITé˜ˆå€¼(100)
        temp : int = i * 2 + 1;  // è¿™ä¸ªè¡¨è¾¾å¼åº”è¯¥è¢«JITç¼–è¯‘
        sum = sum + temp;
        
        if (i % 30 == 0) {
            std::println("i = " + i + ", temp = " + temp + ", sum = " + sum);
        };
        
        i = i + 1;
    };
    
    std::println("æœ€ç»ˆsum = " + sum);
    
    // æµ‹è¯•4: ä¸åŒå˜é‡çš„ç›¸åŒæ¨¡å¼
    std::println("\n=== æµ‹è¯•4: ä¸åŒå˜é‡ç›¸åŒæ¨¡å¼ ===");
    p : int = 7;
    q : int = 11;
    r : int = 13;
    
    j : int = 0;
    while (j < 120) {  // å†æ¬¡è¶…è¿‡JITé˜ˆå€¼
        pattern1 : int = p * q + r;  // ç›¸åŒçš„è¿ç®—æ¨¡å¼
        pattern2 : int = q * r + p;
        pattern3 : int = r * p + q;
        
        if (j % 40 == 0) {
            std::println("j = " + j + ", pattern1 = " + pattern1 + 
                        ", pattern2 = " + pattern2 + ", pattern3 = " + pattern3);
        };
        
        j = j + 1;
    };
    
    // æµ‹è¯•5: é•¿æ•´æ•°è¿ç®—
    std::println("\n=== æµ‹è¯•5: é•¿æ•´æ•°è¿ç®— ===");
    big1 : long = 1000000;
    big2 : long = 2000000;
    
    big_result1 : long = big1 + big2;
    std::println("big1 + big2 = " + big_result1);
    
    big_result2 : long = big1 * big2;
    std::println("big1 * big2 = " + big_result2);
    
    // æµ‹è¯•6: æ··åˆè¿ç®—
    std::println("\n=== æµ‹è¯•6: æ··åˆè¿ç®— ===");
    m : int = 15;
    n : int = 4;
    
    k : int = 0;
    while (k < 110) {  // å†æ¬¡è§¦å‘JIT
        mixed1 : int = m + n - k;
        mixed2 : int = m * n / (k + 1);
        mixed3 : int = (m - n) * (k + 2);
        
        if (k % 25 == 0) {
            std::println("k = " + k + ", mixed1 = " + mixed1 + 
                        ", mixed2 = " + mixed2 + ", mixed3 = " + mixed3);
        };
        
        k = k + 1;
    };
    
    std::println("\nğŸ‰ JITç®—æœ¯è¡¨è¾¾å¼æµ‹è¯•å®Œæˆï¼");
    std::println("æ³¨æ„è§‚å¯ŸJITç¼–è¯‘å™¨çš„è¾“å‡ºä¿¡æ¯");
    
    return 0;
};
