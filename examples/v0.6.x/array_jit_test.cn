// ğŸ§® CodeNothing v0.6.8 æ•°ç»„æ“ä½œJITç¼–è¯‘æµ‹è¯•
// éªŒè¯æ•°ç»„è®¿é—®ã€éå†å’Œé«˜é˜¶å‡½æ•°çš„JITç¼–è¯‘æ€§èƒ½æå‡

println("ğŸš€ CodeNothing v0.6.8 æ•°ç»„æ“ä½œJITç¼–è¯‘æµ‹è¯•");
println("=====================================");
println("ç›®æ ‡ï¼šéªŒè¯20-100å€æ€§èƒ½æå‡");
println("=====================================");

// ğŸ”¢ æµ‹è¯•1ï¼šæ•°ç»„è®¿é—®JITç¼–è¯‘
println("ğŸ”¢ æµ‹è¯•1ï¼šæ•°ç»„è®¿é—®JITç¼–è¯‘");
let numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
let sum = 0;

// è§¦å‘æ•°ç»„è®¿é—®JITç¼–è¯‘ï¼ˆé‡å¤è®¿é—®ä»¥è¾¾åˆ°çƒ­ç‚¹é˜ˆå€¼ï¼‰
for i in 0 to 25 {
    for j in 0 to 10 {
        sum = sum + numbers[j % 10];
    }
}

println("æ•°ç»„è®¿é—®æµ‹è¯•å®Œæˆï¼Œæ€»å’Œ: " + sum);

// ğŸ”„ æµ‹è¯•2ï¼šæ•°ç»„éå†JITç¼–è¯‘
println("ğŸ”„ æµ‹è¯•2ï¼šæ•°ç»„éå†JITç¼–è¯‘");
let data = [10, 20, 30, 40, 50];
let total = 0;

// è§¦å‘æ•°ç»„éå†JITç¼–è¯‘
for i in 0 to 25 {
    for item in data {
        total = total + item;
    }
}

println("æ•°ç»„éå†æµ‹è¯•å®Œæˆï¼Œæ€»è®¡: " + total);

// ğŸ—‚ï¸ æµ‹è¯•3ï¼šæ•°ç»„mapæ“ä½œJITç¼–è¯‘
println("ğŸ—‚ï¸ æµ‹è¯•3ï¼šæ•°ç»„mapæ“ä½œJITç¼–è¯‘");
let source = [1, 2, 3, 4, 5];

// è§¦å‘æ•°ç»„mapæ“ä½œJITç¼–è¯‘
for i in 0 to 25 {
    let doubled = source.map(x => x * 2);
    let length = doubled.length();
}

println("æ•°ç»„mapæ“ä½œæµ‹è¯•å®Œæˆ");

// ğŸ” æµ‹è¯•4ï¼šæ•°ç»„filteræ“ä½œJITç¼–è¯‘
println("ğŸ” æµ‹è¯•4ï¼šæ•°ç»„filteræ“ä½œJITç¼–è¯‘");
let values = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

// è§¦å‘æ•°ç»„filteræ“ä½œJITç¼–è¯‘
for i in 0 to 25 {
    let evens = values.filter(x => x % 2 == 0);
    let count = evens.length();
}

println("æ•°ç»„filteræ“ä½œæµ‹è¯•å®Œæˆ");

// ğŸ“Š æµ‹è¯•5ï¼šæ•°ç»„reduceæ“ä½œJITç¼–è¯‘
println("ğŸ“Š æµ‹è¯•5ï¼šæ•°ç»„reduceæ“ä½œJITç¼–è¯‘");
let nums = [1, 2, 3, 4, 5];

// è§¦å‘æ•°ç»„reduceæ“ä½œJITç¼–è¯‘
for i in 0 to 25 {
    let product = nums.reduce((acc, x) => acc * x, 1);
}

println("æ•°ç»„reduceæ“ä½œæµ‹è¯•å®Œæˆ");

// ğŸ”„ æµ‹è¯•6ï¼šæ•°ç»„forEachæ“ä½œJITç¼–è¯‘
println("ğŸ”„ æµ‹è¯•6ï¼šæ•°ç»„forEachæ“ä½œJITç¼–è¯‘");
let items = [10, 20, 30, 40, 50];
let counter = 0;

// è§¦å‘æ•°ç»„forEachæ“ä½œJITç¼–è¯‘
for i in 0 to 25 {
    items.forEach(x => {
        counter = counter + 1;
    });
}

println("æ•°ç»„forEachæ“ä½œæµ‹è¯•å®Œæˆï¼Œè®¡æ•°å™¨: " + counter);

// ğŸ“ æµ‹è¯•7ï¼šæ•°ç»„æ–¹æ³•JITç¼–è¯‘
println("ğŸ“ æµ‹è¯•7ï¼šæ•°ç»„æ–¹æ³•JITç¼–è¯‘");
let testArray = [1, 2, 3];

// è§¦å‘æ•°ç»„æ–¹æ³•JITç¼–è¯‘
for i in 0 to 25 {
    let len = testArray.length();
    let newArray = testArray.push(i);
}

println("æ•°ç»„æ–¹æ³•æµ‹è¯•å®Œæˆ");

// ğŸ”— æµ‹è¯•8ï¼šå¤åˆæ•°ç»„æ“ä½œJITç¼–è¯‘
println("ğŸ”— æµ‹è¯•8ï¼šå¤åˆæ•°ç»„æ“ä½œJITç¼–è¯‘");
let dataset = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

// è§¦å‘å¤åˆæ•°ç»„æ“ä½œJITç¼–è¯‘
for i in 0 to 25 {
    let result = dataset
        .filter(x => x > 3)
        .map(x => x * x)
        .reduce((acc, x) => acc + x, 0);
}

println("å¤åˆæ•°ç»„æ“ä½œæµ‹è¯•å®Œæˆ");

// ğŸ¯ æ€§èƒ½åŸºå‡†æµ‹è¯•
println("ğŸ¯ æ€§èƒ½åŸºå‡†æµ‹è¯•");
let benchmark_data = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
let benchmark_result = 0;

// å¤§é‡æ•°ç»„æ“ä½œä»¥éªŒè¯JITç¼–è¯‘æ•ˆæœ
for i in 0 to 100 {
    // æ•°ç»„è®¿é—®
    for j in 0 to 10 {
        benchmark_result = benchmark_result + benchmark_data[j];
    }
    
    // æ•°ç»„æ–¹æ³•è°ƒç”¨
    let len = benchmark_data.length();
    
    // é«˜é˜¶å‡½æ•°æ“ä½œ
    let processed = benchmark_data
        .map(x => x + 1)
        .filter(x => x > 2);
}

println("æ€§èƒ½åŸºå‡†æµ‹è¯•ç»“æœ: " + benchmark_result);

println("=====================================");
println("ğŸ“ˆ æ•°ç»„æ“ä½œJITç¼–è¯‘ç»Ÿè®¡:");
println("æ€»æ“ä½œæ•°: " + (25 * 8 + 100 * 13));
println("æ€»è¿­ä»£æ¬¡æ•°: " + (25 * 8 + 100));
println("æ•°ç»„æ“ä½œè®¡ç®—æ¬¡æ•°: 1000+");
println("=====================================");
println("ğŸ¯ æ€§èƒ½æå‡éªŒè¯:");
println("- æ•°ç»„è®¿é—®: é¢„æœŸ20-40å€æå‡");
println("- æ•°ç»„éå†: é¢„æœŸ30-60å€æå‡");
println("- é«˜é˜¶å‡½æ•°: é¢„æœŸ25-50å€æå‡");
println("- å¤åˆæ“ä½œ: é¢„æœŸ40-80å€æå‡");
println("- è¾¹ç•Œæ£€æŸ¥æ¶ˆé™¤: é¢„æœŸ50-100å€æå‡");
println("=====================================");
println("ğŸ‰ æ•°ç»„æ“ä½œJITç¼–è¯‘æµ‹è¯•å®Œæˆï¼");
println("è¯·æŸ¥çœ‹JITç»Ÿè®¡ä¿¡æ¯éªŒè¯æ€§èƒ½æå‡æ•ˆæœ");
