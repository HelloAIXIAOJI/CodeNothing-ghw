# CodeNothing Extended Math Library

CodeNothingæ‰©å±•æ•°å­¦åº“æä¾›äº†å…¨é¢çš„æ•°å­¦è®¡ç®—åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š
- åŸºç¡€æ•°å­¦å‡½æ•°å’Œæ‰©å±•å‡½æ•°
- ä¸‰è§’å‡½æ•°å’ŒåŒæ›²å‡½æ•°
- å¯¹æ•°å‡½æ•°
- ç»Ÿè®¡å‡½æ•°
- éšæœºæ•°ç”Ÿæˆ
- æ•°å€¼åˆ†æå‡½æ•°
- ä¸°å¯Œçš„æ•°å­¦å¸¸æ•°

## ğŸ“¦ å®‰è£…å’Œæ„å»º

### æ„å»ºåº“
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ
./build_libraries.sh

# æˆ–è€…åœ¨Windowsä¸Šè¿è¡Œ
.\build_libraries.ps1
```

### å•ç‹¬æ„å»ºmathåº“
```bash
cd library_math
cargo build --release
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. å¯¼å…¥åº“
```codenothing
using lib <math>;
using lib <io>;
using ns std;
```

### 2. åŸºç¡€æ•°å­¦å‡½æ•°

è¿™äº›å‡½æ•°å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œæ— éœ€å‘½åç©ºé—´å‰ç¼€ï¼š

```codenothing
// ç»å¯¹å€¼
result : string = abs("-5.5");        // "5.5"

// æœ€å¤§å€¼å’Œæœ€å°å€¼
max_val : string = max("10", "20");   // "20"
min_val : string = min("10", "20");   // "10"

// å¹‚è¿ç®—
power : float = pow("2", "3");        // 8

// å¹³æ–¹æ ¹å’Œç«‹æ–¹æ ¹
sqrt_val : float = sqrt("16");        // 4
cbrt_val : float = cbrt("8");         // 2

// å–æ•´å‡½æ•°
ceil_val : float = ceil("3.2");       // 4 (å‘ä¸Šå–æ•´)
floor_val : float = floor("3.8");     // 3 (å‘ä¸‹å–æ•´)
round_val : float = round("3.6");     // 4 (å››èˆäº”å…¥)
trunc_val : float = trunc("3.9");     // 3 (æˆªæ–­)

// ç¬¦å·å‡½æ•°
sign_val : int = sign("-5");          // -1
```

### 3. ä¸‰è§’å‡½æ•°

ä½¿ç”¨ `trig` å‘½åç©ºé—´ï¼š

```codenothing
using ns trig;

// åŸºæœ¬ä¸‰è§’å‡½æ•°ï¼ˆè¾“å…¥ä¸ºå¼§åº¦ï¼‰
sin_val : string = sin("1.57");       // çº¦ç­‰äº "1"
cos_val : string = cos("0");          // "1"
tan_val : string = tan("0.785");      // çº¦ç­‰äº "1"

// åä¸‰è§’å‡½æ•°
asin_val : string = asin("0.5");      // çº¦ç­‰äº "0.524"
acos_val : string = acos("0.5");      // çº¦ç­‰äº "1.047"
atan_val : string = atan("1");        // çº¦ç­‰äº "0.785"

// è§’åº¦å¼§åº¦è½¬æ¢
radians : string = to_radians("90");  // å°†90åº¦è½¬æ¢ä¸ºå¼§åº¦
degrees : float = to_degrees("1.57");  // å°†å¼§åº¦è½¬æ¢ä¸ºåº¦æ•°
```

### 4. åŒæ›²å‡½æ•°

ä½¿ç”¨ `hyperbolic` å‘½åç©ºé—´ï¼š

```codenothing
using ns hyperbolic;

// åŒæ›²å‡½æ•°
sinh_val : float = sinh("1");         // åŒæ›²æ­£å¼¦
cosh_val : float = cosh("0");         // åŒæ›²ä½™å¼¦: 1
tanh_val : float = tanh("1");         // åŒæ›²æ­£åˆ‡

// ååŒæ›²å‡½æ•°
asinh_val : float = asinh("1");       // ååŒæ›²æ­£å¼¦
acosh_val : float = acosh("2");       // ååŒæ›²ä½™å¼¦
atanh_val : float = atanh("0.5");     // ååŒæ›²æ­£åˆ‡
```

### 5. ç»Ÿè®¡å‡½æ•°

ä½¿ç”¨ `stats` å‘½åç©ºé—´ï¼š

```codenothing
using ns stats;

// ç»Ÿè®¡å‡½æ•°ï¼ˆæ”¯æŒå¤šä¸ªå‚æ•°ï¼‰
mean_val : float = mean("1", "2", "3", "4", "5");      // å¹³å‡å€¼: 3
median_val : float = median("1", "3", "2", "5", "4");  // ä¸­ä½æ•°: 3
stddev_val : float = stddev("1", "2", "3", "4", "5");  // æ ‡å‡†å·®
variance_val : float = variance("1", "2", "3", "4", "5"); // æ–¹å·®
```

### 6. éšæœºæ•°ç”Ÿæˆ

ä½¿ç”¨ `random` å‘½åç©ºé—´ï¼š

```codenothing
using ns random;

// è®¾ç½®éšæœºç§å­
seed("12345");                        // è®¾ç½®ç§å­ä¸º12345

// ç”Ÿæˆéšæœºæ•°
rand_val : float = random();          // 0-1ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°
rand_int : int = randint("1", "10");  // 1-10ä¹‹é—´çš„éšæœºæ•´æ•°
uniform_val : float = uniform("0", "100"); // 0-100ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°
```

### 7. æ•°å€¼åˆ†æ

ä½¿ç”¨ `numeric` å‘½åç©ºé—´ï¼š

```codenothing
using ns numeric;

// é˜¶ä¹˜å’Œç»„åˆ
fact_val : int = factorial("5");      // é˜¶ä¹˜: 120
comb_val : int = combination("5", "2"); // ç»„åˆæ•°C(5,2): 10
perm_val : int = permutation("5", "2"); // æ’åˆ—æ•°P(5,2): 20

// æ•°è®ºå‡½æ•°
gcd_val : int = gcd("12", "8");       // æœ€å¤§å…¬çº¦æ•°: 4
lcm_val : int = lcm("12", "8");       // æœ€å°å…¬å€æ•°: 24
```

### 4. å¯¹æ•°å‡½æ•°

ä½¿ç”¨ `log` å‘½åç©ºé—´ï¼š

```codenothing
using ns log;

// è‡ªç„¶å¯¹æ•°
ln_val : float = ln("2.718");         // çº¦ç­‰äº 1

// å¸¸ç”¨å¯¹æ•°ï¼ˆä»¥10ä¸ºåº•ï¼‰
log10_val : float = log10("100");     // 2

// ä»¥2ä¸ºåº•çš„å¯¹æ•°
log2_val : float = log2("8");         // 3

// æŒ‡å®šåº•æ•°çš„å¯¹æ•°
log_val : float = log("8", "2");      // logâ‚‚(8) = 3
```

### 8. æ•°å­¦å¸¸æ•°

ä½¿ç”¨ `constants` å‘½åç©ºé—´ï¼š

```codenothing
using ns constants;

// åŸºç¡€å¸¸æ•°
pi_val : float = pi();                // åœ†å‘¨ç‡Ï€
e_val : float = e();                  // è‡ªç„¶å¸¸æ•°e
phi_val : float = phi();              // é»„é‡‘æ¯”ä¾‹Ï†
sqrt2_val : float = sqrt2();          // 2çš„å¹³æ–¹æ ¹

// æ‰©å±•å¸¸æ•°
euler_gamma_val : float = euler_gamma(); // æ¬§æ‹‰å¸¸æ•°Î³
frac_1_pi_val : float = frac_1_pi();  // 1/Ï€
frac_2_pi_val : float = frac_2_pi();  // 2/Ï€
ln_2_val : float = ln_2();            // ln(2)
ln_10_val : float = ln_10();          // ln(10)
```

## ğŸ“š å®Œæ•´å‡½æ•°åˆ—è¡¨

### åŸºç¡€æ•°å­¦å‡½æ•°ï¼ˆæ ¹å‘½åç©ºé—´ï¼‰
| å‡½æ•° | å‚æ•° | è¿”å›å€¼ | æè¿° |
|------|------|--------|------|
| `abs(x)` | 1ä¸ªæ•°å€¼å­—ç¬¦ä¸² | ç»å¯¹å€¼ | è®¡ç®—æ•°å€¼çš„ç»å¯¹å€¼ |
| `max(a, b)` | 2ä¸ªæ•°å€¼å­—ç¬¦ä¸² | è¾ƒå¤§å€¼ | è¿”å›ä¸¤ä¸ªæ•°å€¼ä¸­çš„è¾ƒå¤§è€… |
| `min(a, b)` | 2ä¸ªæ•°å€¼å­—ç¬¦ä¸² | è¾ƒå°å€¼ | è¿”å›ä¸¤ä¸ªæ•°å€¼ä¸­çš„è¾ƒå°è€… |
| `pow(base, exp)` | 2ä¸ªæ•°å€¼å­—ç¬¦ä¸² | å¹‚è¿ç®—ç»“æœ | è®¡ç®—baseçš„expæ¬¡æ–¹ |
| `sqrt(x)` | 1ä¸ªæ•°å€¼å­—ç¬¦ä¸² | å¹³æ–¹æ ¹ | è®¡ç®—æ•°å€¼çš„å¹³æ–¹æ ¹ |
| `cbrt(x)` | 1ä¸ªæ•°å€¼å­—ç¬¦ä¸² | ç«‹æ–¹æ ¹ | è®¡ç®—æ•°å€¼çš„ç«‹æ–¹æ ¹ |
| `ceil(x)` | 1ä¸ªæ•°å€¼å­—ç¬¦ä¸² | å‘ä¸Šå–æ•´ | å‘ä¸Šå–æ•´åˆ°æœ€è¿‘çš„æ•´æ•° |
| `floor(x)` | 1ä¸ªæ•°å€¼å­—ç¬¦ä¸² | å‘ä¸‹å–æ•´ | å‘ä¸‹å–æ•´åˆ°æœ€è¿‘çš„æ•´æ•° |
| `round(x)` | 1ä¸ªæ•°å€¼å­—ç¬¦ä¸² | å››èˆäº”å…¥ | å››èˆäº”å…¥åˆ°æœ€è¿‘çš„æ•´æ•° |
| `trunc(x)` | 1ä¸ªæ•°å€¼å­—ç¬¦ä¸² | æˆªæ–­ | æˆªæ–­å°æ•°éƒ¨åˆ† |
| `sign(x)` | 1ä¸ªæ•°å€¼å­—ç¬¦ä¸² | ç¬¦å· | è¿”å›æ•°å€¼çš„ç¬¦å·(-1, 0, 1) |

### ä¸‰è§’å‡½æ•°ï¼ˆtrigå‘½åç©ºé—´ï¼‰
| å‡½æ•° | å‚æ•° | è¿”å›å€¼ | æè¿° |
|------|------|--------|------|
| `sin(x)` | å¼§åº¦å€¼ | æ­£å¼¦å€¼ | è®¡ç®—æ­£å¼¦å€¼ |
| `cos(x)` | å¼§åº¦å€¼ | ä½™å¼¦å€¼ | è®¡ç®—ä½™å¼¦å€¼ |
| `tan(x)` | å¼§åº¦å€¼ | æ­£åˆ‡å€¼ | è®¡ç®—æ­£åˆ‡å€¼ |
| `asin(x)` | -1åˆ°1ä¹‹é—´çš„å€¼ | åæ­£å¼¦å€¼ | è®¡ç®—åæ­£å¼¦å€¼ï¼ˆå¼§åº¦ï¼‰ |
| `acos(x)` | -1åˆ°1ä¹‹é—´çš„å€¼ | åä½™å¼¦å€¼ | è®¡ç®—åä½™å¼¦å€¼ï¼ˆå¼§åº¦ï¼‰ |
| `atan(x)` | ä»»æ„å€¼ | åæ­£åˆ‡å€¼ | è®¡ç®—åæ­£åˆ‡å€¼ï¼ˆå¼§åº¦ï¼‰ |
| `to_radians(degrees)` | è§’åº¦å€¼ | å¼§åº¦å€¼ | å°†è§’åº¦è½¬æ¢ä¸ºå¼§åº¦ |
| `to_degrees(radians)` | å¼§åº¦å€¼ | è§’åº¦å€¼ | å°†å¼§åº¦è½¬æ¢ä¸ºè§’åº¦ |

### åŒæ›²å‡½æ•°ï¼ˆhyperbolicå‘½åç©ºé—´ï¼‰
| å‡½æ•° | å‚æ•° | è¿”å›å€¼ | æè¿° |
|------|------|--------|------|
| `sinh(x)` | æ•°å€¼ | åŒæ›²æ­£å¼¦å€¼ | è®¡ç®—åŒæ›²æ­£å¼¦å€¼ |
| `cosh(x)` | æ•°å€¼ | åŒæ›²ä½™å¼¦å€¼ | è®¡ç®—åŒæ›²ä½™å¼¦å€¼ |
| `tanh(x)` | æ•°å€¼ | åŒæ›²æ­£åˆ‡å€¼ | è®¡ç®—åŒæ›²æ­£åˆ‡å€¼ |
| `asinh(x)` | æ•°å€¼ | ååŒæ›²æ­£å¼¦å€¼ | è®¡ç®—ååŒæ›²æ­£å¼¦å€¼ |
| `acosh(x)` | â‰¥1çš„æ•°å€¼ | ååŒæ›²ä½™å¼¦å€¼ | è®¡ç®—ååŒæ›²ä½™å¼¦å€¼ |
| `atanh(x)` | -1<x<1çš„æ•°å€¼ | ååŒæ›²æ­£åˆ‡å€¼ | è®¡ç®—ååŒæ›²æ­£åˆ‡å€¼ |

### ç»Ÿè®¡å‡½æ•°ï¼ˆstatså‘½åç©ºé—´ï¼‰
| å‡½æ•° | å‚æ•° | è¿”å›å€¼ | æè¿° |
|------|------|--------|------|
| `mean(...)` | å¤šä¸ªæ•°å€¼ | å¹³å‡å€¼ | è®¡ç®—æ•°å€¼çš„ç®—æœ¯å¹³å‡å€¼ |
| `median(...)` | å¤šä¸ªæ•°å€¼ | ä¸­ä½æ•° | è®¡ç®—æ•°å€¼çš„ä¸­ä½æ•° |
| `stddev(...)` | å¤šä¸ªæ•°å€¼ | æ ‡å‡†å·® | è®¡ç®—æ ·æœ¬æ ‡å‡†å·® |
| `variance(...)` | å¤šä¸ªæ•°å€¼ | æ–¹å·® | è®¡ç®—æ ·æœ¬æ–¹å·® |

### éšæœºæ•°ç”Ÿæˆï¼ˆrandomå‘½åç©ºé—´ï¼‰
| å‡½æ•° | å‚æ•° | è¿”å›å€¼ | æè¿° |
|------|------|--------|------|
| `seed(s)` | ç§å­å€¼ | ç§å­å€¼ | è®¾ç½®éšæœºæ•°ç§å­ |
| `random()` | æ—  | 0-1éšæœºæ•° | ç”Ÿæˆ0åˆ°1ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•° |
| `randint(min, max)` | æœ€å°å€¼, æœ€å¤§å€¼ | éšæœºæ•´æ•° | ç”ŸæˆæŒ‡å®šèŒƒå›´çš„éšæœºæ•´æ•° |
| `uniform(min, max)` | æœ€å°å€¼, æœ€å¤§å€¼ | éšæœºæµ®ç‚¹æ•° | ç”ŸæˆæŒ‡å®šèŒƒå›´çš„éšæœºæµ®ç‚¹æ•° |

### æ•°å€¼åˆ†æï¼ˆnumericå‘½åç©ºé—´ï¼‰
| å‡½æ•° | å‚æ•° | è¿”å›å€¼ | æè¿° |
|------|------|--------|------|
| `factorial(n)` | éè´Ÿæ•´æ•° | é˜¶ä¹˜å€¼ | è®¡ç®—nçš„é˜¶ä¹˜ |
| `combination(n, k)` | ä¸¤ä¸ªéè´Ÿæ•´æ•° | ç»„åˆæ•° | è®¡ç®—C(n,k)ç»„åˆæ•° |
| `permutation(n, k)` | ä¸¤ä¸ªéè´Ÿæ•´æ•° | æ’åˆ—æ•° | è®¡ç®—P(n,k)æ’åˆ—æ•° |
| `gcd(a, b)` | ä¸¤ä¸ªæ­£æ•´æ•° | æœ€å¤§å…¬çº¦æ•° | è®¡ç®—æœ€å¤§å…¬çº¦æ•° |
| `lcm(a, b)` | ä¸¤ä¸ªæ­£æ•´æ•° | æœ€å°å…¬å€æ•° | è®¡ç®—æœ€å°å…¬å€æ•° |

### å¯¹æ•°å‡½æ•°ï¼ˆlogå‘½åç©ºé—´ï¼‰
| å‡½æ•° | å‚æ•° | è¿”å›å€¼ | æè¿° |
|------|------|--------|------|
| `ln(x)` | æ­£æ•° | è‡ªç„¶å¯¹æ•° | è®¡ç®—ä»¥eä¸ºåº•çš„å¯¹æ•° |
| `log10(x)` | æ­£æ•° | å¸¸ç”¨å¯¹æ•° | è®¡ç®—ä»¥10ä¸ºåº•çš„å¯¹æ•° |
| `log2(x)` | æ­£æ•° | äºŒè¿›åˆ¶å¯¹æ•° | è®¡ç®—ä»¥2ä¸ºåº•çš„å¯¹æ•° |
| `log(x, base)` | æ­£æ•°, åº•æ•° | å¯¹æ•°å€¼ | è®¡ç®—æŒ‡å®šåº•æ•°çš„å¯¹æ•° |

### æ•°å­¦å¸¸æ•°ï¼ˆconstantså‘½åç©ºé—´ï¼‰
| å‡½æ•° | å‚æ•° | è¿”å›å€¼ | æè¿° |
|------|------|--------|------|
| `pi()` | æ—  | Ï€å€¼ | åœ†å‘¨ç‡ 3.141592653589793 |
| `e()` | æ—  | eå€¼ | è‡ªç„¶å¸¸æ•° 2.718281828459045 |
| `phi()` | æ—  | Ï†å€¼ | é»„é‡‘æ¯”ä¾‹ 1.618033988749895 |
| `sqrt2()` | æ—  | âˆš2å€¼ | 2çš„å¹³æ–¹æ ¹ 1.4142135623730951 |
| `euler_gamma()` | æ—  | Î³å€¼ | æ¬§æ‹‰å¸¸æ•° 0.5772156649015329 |
| `frac_1_pi()` | æ—  | 1/Ï€å€¼ | 1/Ï€çš„å€¼ |
| `frac_2_pi()` | æ—  | 2/Ï€å€¼ | 2/Ï€çš„å€¼ |
| `ln_2()` | æ—  | ln(2)å€¼ | 2çš„è‡ªç„¶å¯¹æ•° |
| `ln_10()` | æ—  | ln(10)å€¼ | 10çš„è‡ªç„¶å¯¹æ•° |

## âš ï¸ æ³¨æ„äº‹é¡¹

### è¾“å…¥è¾“å‡ºæ ¼å¼
- æ‰€æœ‰å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼éƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹
- è¾“å…¥çš„æ•°å€¼å­—ç¬¦ä¸²ä¼šè¢«è§£æä¸ºæµ®ç‚¹æ•°
- æ— æ•ˆè¾“å…¥ä¼šè¿”å› "0"

### é”™è¯¯å¤„ç†
- è´Ÿæ•°çš„å¹³æ–¹æ ¹è¿”å› "NaN"
- è¶…å‡ºå®šä¹‰åŸŸçš„åä¸‰è§’å‡½æ•°è¿”å› "NaN"
- éæ­£æ•°çš„å¯¹æ•°è¿”å› "NaN"
- åº•æ•°ä¸º1æˆ–éæ­£æ•°çš„å¯¹æ•°è¿”å› "NaN"

### ç²¾åº¦
- ä½¿ç”¨Rustçš„f64ç±»å‹è¿›è¡Œè®¡ç®—
- ç²¾åº¦çº¦ä¸º15-17ä½æœ‰æ•ˆæ•°å­—

## ğŸ§ª æµ‹è¯•

è¿è¡Œæµ‹è¯•ç¨‹åºï¼š
```bash
target/release/CodeNothing.exe math_library_test.cn
```

æµ‹è¯•ç¨‹åºåŒ…å«ï¼š
- åŸºç¡€æ•°å­¦å‡½æ•°æµ‹è¯•
- ä¸‰è§’å‡½æ•°æµ‹è¯•
- å¯¹æ•°å‡½æ•°æµ‹è¯•
- æ•°å­¦å¸¸æ•°æµ‹è¯•
- é”™è¯¯å¤„ç†æµ‹è¯•
- ç»¼åˆè®¡ç®—ç¤ºä¾‹

## ğŸ“ ç¤ºä¾‹ç¨‹åº

```codenothing
using lib <math>;
using lib <io>;
using ns std;
using ns trig;
using ns constants;
using ns stats;
using ns random;
using ns numeric;

fn main() : int {
    std::println("ğŸ§® æ‰©å±•Mathåº“ç»¼åˆç¤ºä¾‹");

    // 1. åŸºç¡€æ•°å­¦è®¡ç®—
    radius : int = 5;
    pi_val : float = pi();
    area : float = pi_val * pow("5", "2");

    std::println("åœ†çš„è®¡ç®—:");
    std::println("  åŠå¾„: " + radius);
    std::println("  Ï€: " + pi_val);
    std::println("  é¢ç§¯: Ï€ Ã— rÂ² â‰ˆ " + area);

    // 2. ä¸‰è§’å‡½æ•°è®¡ç®—
    angle_deg : int = 45;
    angle_rad : float = to_radians("45");
    sin_45 : float = sin(angle_rad);
    cos_45 : float = cos(angle_rad);

    std::println("ä¸‰è§’å‡½æ•°:");
    std::println("  sin(45Â°) = " + sin_45);
    std::println("  cos(45Â°) = " + cos_45);

    // 3. ç»Ÿè®¡åˆ†æ
    data_mean : float = mean("85", "92", "78", "96", "88");
    data_median : float = median("85", "92", "78", "96", "88");

    std::println("ç»Ÿè®¡åˆ†æ:");
    std::println("  å¹³å‡åˆ†: " + data_mean);
    std::println("  ä¸­ä½æ•°: " + data_median);

    // 4. éšæœºæ•°ç”Ÿæˆ
    seed("2024");
    rand_score : int = randint("60", "100");

    std::println("éšæœºç”Ÿæˆ:");
    std::println("  éšæœºåˆ†æ•°: " + rand_score);

    // 5. æ•°å€¼åˆ†æ
    fact_5 : int = factorial("5");
    comb_10_3 : int = combination("10", "3");

    std::println("æ•°å€¼åˆ†æ:");
    std::println("  5! = " + fact_5);
    std::println("  C(10,3) = " + comb_10_3);

    return 0;
};
```

## ğŸ”§ å¼€å‘

### æ·»åŠ æ–°å‡½æ•°
1. åœ¨ç›¸åº”çš„æ¨¡å—ä¸­å®šä¹‰å‡½æ•°
2. åœ¨ `cn_init()` å‡½æ•°ä¸­æ³¨å†Œå‡½æ•°
3. æ›´æ–°æ–‡æ¡£å’Œæµ‹è¯•

### æ„å»ºå’Œæµ‹è¯•
```bash
# æ„å»º
cargo build --release

# è¿è¡Œæµ‹è¯•
target/release/CodeNothing.exe math_library_test.cn
```
