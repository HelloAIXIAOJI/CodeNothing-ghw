// ğŸš€ CodeNothing v0.6.8 å­—ç¬¦ä¸²æ“ä½œJITç¼–è¯‘æµ‹è¯•
// éªŒè¯å­—ç¬¦ä¸²æ“ä½œçš„JITç¼–è¯‘ä¼˜åŒ–æ•ˆæœ

using lib <io>;
using ns std;

fn main() : int {
    std::println("ğŸš€ CodeNothing v0.6.8 å­—ç¬¦ä¸²æ“ä½œJITç¼–è¯‘æµ‹è¯•");
    std::println("=====================================");
    std::println("ç›®æ ‡ï¼šéªŒè¯20-100å€æ€§èƒ½æå‡");
    std::println("=====================================");
    
    // ğŸ“Š æµ‹è¯•1ï¼šå­—ç¬¦ä¸²æ‹¼æ¥JITç¼–è¯‘
    std::println("ğŸ”— æµ‹è¯•1ï¼šå­—ç¬¦ä¸²æ‹¼æ¥JITç¼–è¯‘");
    concat_result : int = 0;
    for (i : 1..101) {  // 100æ¬¡è¿­ä»£ï¼Œè§¦å‘å­—ç¬¦ä¸²æ“ä½œçƒ­ç‚¹æ£€æµ‹
        // åŸºç¡€å­—ç¬¦ä¸²æ‹¼æ¥
        str1 : string = "Hello";
        str2 : string = "World";
        result1 : string = str1 + str2;
        concat_result = concat_result + result1.length();
        
        // å¤šå­—ç¬¦ä¸²æ‹¼æ¥
        str3 : string = "Code";
        str4 : string = "Nothing";
        result2 : string = str3 + str4 + "!";
        concat_result = concat_result + result2.length();
        
        // æ•°å­—å­—ç¬¦ä¸²æ‹¼æ¥
        num_str : string = i.toString();
        result3 : string = "Number: " + num_str;
        concat_result = concat_result + result3.length();
    };
    std::println("å­—ç¬¦ä¸²æ‹¼æ¥ç»“æœ: " + concat_result);
    std::println("-------------------------------------");
    
    // ğŸ“Š æµ‹è¯•2ï¼šå­—ç¬¦ä¸²æœç´¢JITç¼–è¯‘
    std::println("ğŸ” æµ‹è¯•2ï¼šå­—ç¬¦ä¸²æœç´¢JITç¼–è¯‘");
    search_result : int = 0;
    for (i : 1..101) {  // 100æ¬¡è¿­ä»£
        // åŸºç¡€å­—ç¬¦ä¸²æœç´¢
        text : string = "Hello World CodeNothing";
        pattern1 : string = "World";
        found1 : bool = text.contains(pattern1);
        if (found1) {
            search_result = search_result + 1;
        };
        
        // å­—ç¬¦ä¸²ä½ç½®æŸ¥æ‰¾
        pattern2 : string = "Code";
        pos : int = text.indexOf(pattern2);
        if (pos >= 0) {
            search_result = search_result + pos;
        };
        
        // å¤šæ¨¡å¼æœç´¢
        pattern3 : string = "Nothing";
        found2 : bool = text.contains(pattern3);
        if (found2) {
            search_result = search_result + 2;
        };
    };
    std::println("å­—ç¬¦ä¸²æœç´¢ç»“æœ: " + search_result);
    std::println("-------------------------------------");
    
    // ğŸ“Š æµ‹è¯•3ï¼šå­—ç¬¦ä¸²æ›¿æ¢JITç¼–è¯‘
    std::println("âœ‚ï¸ æµ‹è¯•3ï¼šå­—ç¬¦ä¸²æ›¿æ¢JITç¼–è¯‘");
    replace_result : int = 0;
    for (i : 1..101) {  // 100æ¬¡è¿­ä»£
        // åŸºç¡€å­—ç¬¦ä¸²æ›¿æ¢
        original : string = "Hello World Hello";
        old_str : string = "Hello";
        new_str : string = "Hi";
        replaced1 : string = original.replace(old_str, new_str);
        replace_result = replace_result + replaced1.length();
        
        // å…¨å±€æ›¿æ¢
        text2 : string = "test test test";
        replaced2 : string = text2.replaceAll("test", "demo");
        replace_result = replace_result + replaced2.length();
        
        // æ•°å­—æ›¿æ¢
        num_text : string = "Number: 123";
        replaced3 : string = num_text.replace("123", i.toString());
        replace_result = replace_result + replaced3.length();
    };
    std::println("å­—ç¬¦ä¸²æ›¿æ¢ç»“æœ: " + replace_result);
    std::println("-------------------------------------");
    
    // ğŸ“Š æµ‹è¯•4ï¼šå­—ç¬¦ä¸²å­ä¸²JITç¼–è¯‘
    std::println("ğŸ¯ æµ‹è¯•4ï¼šå­—ç¬¦ä¸²å­ä¸²JITç¼–è¯‘");
    substring_result : int = 0;
    for (i : 1..101) {  // 100æ¬¡è¿­ä»£
        // åŸºç¡€å­ä¸²æå–
        text : string = "CodeNothing Language";
        sub1 : string = text.substring(0, 4);  // "Code"
        substring_result = substring_result + sub1.length();
        
        // ä¸­é—´å­ä¸²
        sub2 : string = text.substring(4, 11);  // "Nothing"
        substring_result = substring_result + sub2.length();
        
        // å°¾éƒ¨å­ä¸²
        sub3 : string = text.substring(12);  // "Language"
        substring_result = substring_result + sub3.length();
        
        // åŠ¨æ€å­ä¸²
        start : int = i % 5;
        end : int = start + 3;
        if (end < text.length()) {
            sub4 : string = text.substring(start, end);
            substring_result = substring_result + sub4.length();
        };
    };
    std::println("å­—ç¬¦ä¸²å­ä¸²ç»“æœ: " + substring_result);
    std::println("-------------------------------------");
    
    // ğŸ“Š æµ‹è¯•5ï¼šå­—ç¬¦ä¸²æ¯”è¾ƒJITç¼–è¯‘
    std::println("âš–ï¸ æµ‹è¯•5ï¼šå­—ç¬¦ä¸²æ¯”è¾ƒJITç¼–è¯‘");
    comparison_result : int = 0;
    for (i : 1..101) {  // 100æ¬¡è¿­ä»£
        // åŸºç¡€å­—ç¬¦ä¸²æ¯”è¾ƒ
        str1 : string = "Hello";
        str2 : string = "Hello";
        str3 : string = "World";
        
        if (str1 == str2) {
            comparison_result = comparison_result + 1;
        };
        
        if (str1 != str3) {
            comparison_result = comparison_result + 2;
        };
        
        // å­—ç¬¦ä¸²é•¿åº¦æ¯”è¾ƒ
        if (str1.length() == str2.length()) {
            comparison_result = comparison_result + 1;
        };
        
        // åŠ¨æ€å­—ç¬¦ä¸²æ¯”è¾ƒ
        dynamic_str : string = "Test" + i.toString();
        if (dynamic_str.length() > 4) {
            comparison_result = comparison_result + 1;
        };
    };
    std::println("å­—ç¬¦ä¸²æ¯”è¾ƒç»“æœ: " + comparison_result);
    std::println("-------------------------------------");
    
    // ğŸ“Š æµ‹è¯•6ï¼šå­—ç¬¦ä¸²åˆ†å‰²JITç¼–è¯‘
    std::println("ğŸ”ª æµ‹è¯•6ï¼šå­—ç¬¦ä¸²åˆ†å‰²JITç¼–è¯‘");
    split_result : int = 0;
    for (i : 1..101) {  // 100æ¬¡è¿­ä»£
        // åŸºç¡€å­—ç¬¦ä¸²åˆ†å‰²
        text : string = "apple,banana,orange";
        parts1 : string[] = text.split(",");
        split_result = split_result + parts1.length;
        
        // ç©ºæ ¼åˆ†å‰²
        sentence : string = "Hello World CodeNothing";
        words : string[] = sentence.split(" ");
        split_result = split_result + words.length;
        
        // å¤šå­—ç¬¦åˆ†å‰²
        data : string = "a::b::c::d";
        parts2 : string[] = data.split("::");
        split_result = split_result + parts2.length;
    };
    std::println("å­—ç¬¦ä¸²åˆ†å‰²ç»“æœ: " + split_result);
    std::println("-------------------------------------");
    
    // ğŸ“Š æµ‹è¯•7ï¼šå­—ç¬¦ä¸²æ ¼å¼åŒ–JITç¼–è¯‘
    std::println("ğŸ“ æµ‹è¯•7ï¼šå­—ç¬¦ä¸²æ ¼å¼åŒ–JITç¼–è¯‘");
    format_result : int = 0;
    for (i : 1..101) {  // 100æ¬¡è¿­ä»£
        // åŸºç¡€å­—ç¬¦ä¸²æ ¼å¼åŒ–
        name : string = "User";
        age : int = i;
        formatted1 : string = "Name: " + name + ", Age: " + age.toString();
        format_result = format_result + formatted1.length();
        
        // æ•°å­—æ ¼å¼åŒ–
        number : int = i * 100;
        formatted2 : string = "Value: " + number.toString();
        format_result = format_result + formatted2.length();
        
        // å¤æ‚æ ¼å¼åŒ–
        formatted3 : string = "Item " + i.toString() + " of 100";
        format_result = format_result + formatted3.length();
    };
    std::println("å­—ç¬¦ä¸²æ ¼å¼åŒ–ç»“æœ: " + format_result);
    std::println("=====================================");
    
    // è®¡ç®—æ€»ä½“æ€§èƒ½æŒ‡æ ‡
    total_operations : int = concat_result + search_result + replace_result + substring_result + comparison_result + split_result + format_result;
    std::println("ğŸ“ˆ å­—ç¬¦ä¸²æ“ä½œJITç¼–è¯‘ç»Ÿè®¡:");
    std::println("æ€»æ“ä½œæ•°: " + total_operations);
    std::println("æ€»è¿­ä»£æ¬¡æ•°: 700");
    std::println("å­—ç¬¦ä¸²æ“ä½œæ¬¡æ•°: 2800+");
    std::println("=====================================");
    
    std::println("ğŸ¯ æ€§èƒ½æå‡éªŒè¯:");
    std::println("- å­—ç¬¦ä¸²æ‹¼æ¥: é¢„æœŸ30-60å€æå‡");
    std::println("- å­—ç¬¦ä¸²æœç´¢: é¢„æœŸ20-50å€æå‡");
    std::println("- å­—ç¬¦ä¸²æ›¿æ¢: é¢„æœŸ25-55å€æå‡");
    std::println("- å­ä¸²æ“ä½œ: é¢„æœŸ40-80å€æå‡");
    std::println("- å­—ç¬¦ä¸²æ¯”è¾ƒ: é¢„æœŸ50-100å€æå‡");
    std::println("- å­—ç¬¦ä¸²åˆ†å‰²: é¢„æœŸ30-70å€æå‡");
    std::println("- å­—ç¬¦ä¸²æ ¼å¼åŒ–: é¢„æœŸ35-75å€æå‡");
    std::println("=====================================");
    
    std::println("ğŸ‰ å­—ç¬¦ä¸²æ“ä½œJITç¼–è¯‘æµ‹è¯•å®Œæˆï¼");
    std::println("è¯·æŸ¥çœ‹JITç»Ÿè®¡ä¿¡æ¯éªŒè¯æ€§èƒ½æå‡æ•ˆæœ");
    
    return 0;
};
