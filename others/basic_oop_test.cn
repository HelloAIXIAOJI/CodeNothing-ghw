// CodeNothing åŸºç¡€OOPæµ‹è¯•
// æµ‹è¯•åŸºæœ¬çš„ç±»å®šä¹‰ã€å¯¹è±¡åˆ›å»ºã€æ–¹æ³•è°ƒç”¨ç­‰åŠŸèƒ½

using lib <io>;
using ns std;

// ç®€å•çš„å­¦ç”Ÿç±»
class Student {
    public name : string;
    public age : int;
    private score : int;
    
    // æ„é€ å‡½æ•°
    constructor(name : string, age : int) {
        this.name = name;
        this.age = age;
        this.score = 0;
        std::println("åˆ›å»ºå­¦ç”Ÿ: " + name + ", å¹´é¾„: " + age);
    };
    
    // å…¬å…±æ–¹æ³•
    fn get_name() : string {
        return this.name;
    };
    
    fn get_age() : int {
        return this.age;
    };
    
    fn get_score() : int {
        return this.score;
    };
    
    fn add_score(points : int) : void {
        this.score = this.score + points;
        std::println(this.name + " è·å¾— " + points + " åˆ†ï¼Œæ€»åˆ†: " + this.score);
        return;
    };
    
    fn get_info() : string {
        return this.name + " (å¹´é¾„: " + this.age + ", åˆ†æ•°: " + this.score + ")";
    };
    
    // é™æ€æ–¹æ³•
    static fn get_school_name() : string {
        return "CodeNothingå­¦æ ¡";
    };
};

// æ•™å¸ˆç±»
class Teacher {
    public name : string;
    public subject : string;
    private years_experience : int;
    
    constructor(name : string, subject : string, experience : int) {
        this.name = name;
        this.subject = subject;
        this.years_experience = experience;
        std::println("åˆ›å»ºæ•™å¸ˆ: " + name + ", ç§‘ç›®: " + subject);
    };
    
    fn get_name() : string {
        return this.name;
    };
    
    fn get_subject() : string {
        return this.subject;
    };
    
    fn get_experience() : int {
        return this.years_experience;
    };
    
    fn teach(student_name : string) : string {
        return "æ•™å¸ˆ " + this.name + " æ­£åœ¨æ•™ " + student_name + " å­¦ä¹  " + this.subject;
    };
    
    fn get_info() : string {
        return "æ•™å¸ˆ: " + this.name + " (ç§‘ç›®: " + this.subject + ", ç»éªŒ: " + this.years_experience + "å¹´)";
    };
};

// è¯¾ç¨‹ç±»
class Course {
    public course_name : string;
    public teacher_name : string;
    private max_students : int;
    private current_students : int;
    
    constructor(name : string, teacher : string, max_size : int) {
        this.course_name = name;
        this.teacher_name = teacher;
        this.max_students = max_size;
        this.current_students = 0;
        std::println("åˆ›å»ºè¯¾ç¨‹: " + name + " (æ•™å¸ˆ: " + teacher + ")");
    };
    
    fn add_student() : bool {
        if (this.current_students < this.max_students) {
            this.current_students = this.current_students + 1;
            std::println("å­¦ç”ŸåŠ å…¥è¯¾ç¨‹ " + this.course_name + ", å½“å‰äººæ•°: " + this.current_students);
            return true;
        } else {
            std::println("è¯¾ç¨‹ " + this.course_name + " å·²æ»¡å‘˜");
            return false;
        };
    };
    
    fn get_enrollment_info() : string {
        return "è¯¾ç¨‹: " + this.course_name + " (" + this.current_students + "/" + this.max_students + ")";
    };
    
    fn is_full() : bool {
        return this.current_students >= this.max_students;
    };
};

// ä¸»å‡½æ•°
fn main() : int {
    std::println("ğŸ“ CodeNothing åŸºç¡€OOPæµ‹è¯•å¼€å§‹");
    std::println("=====================================");
    
    // 1. åˆ›å»ºå¯¹è±¡æµ‹è¯•
    std::println("1. åˆ›å»ºå¯¹è±¡æµ‹è¯•");
    student1 : Student = new Student("å¼ ä¸‰", 18);
    student2 : Student = new Student("æå››", 19);
    teacher1 : Teacher = new Teacher("ç‹è€å¸ˆ", "æ•°å­¦", 5);
    course1 : Course = new Course("é«˜ç­‰æ•°å­¦", "ç‹è€å¸ˆ", 30);
    std::println("");
    
    // 2. æ–¹æ³•è°ƒç”¨æµ‹è¯•
    std::println("2. æ–¹æ³•è°ƒç”¨æµ‹è¯•");
    std::println("å­¦ç”Ÿå§“å: " + student1.get_name());
    std::println("å­¦ç”Ÿå¹´é¾„: " + student1.get_age());
    std::println("å­¦ç”Ÿåˆ†æ•°: " + student1.get_score());
    
    std::println("æ•™å¸ˆå§“å: " + teacher1.get_name());
    std::println("æ•™å¸ˆç§‘ç›®: " + teacher1.get_subject());
    std::println("æ•™å¸ˆç»éªŒ: " + teacher1.get_experience() + "å¹´");
    std::println("");
    
    // 3. å¯¹è±¡çŠ¶æ€ä¿®æ”¹æµ‹è¯•
    std::println("3. å¯¹è±¡çŠ¶æ€ä¿®æ”¹æµ‹è¯•");
    student1.add_score(85);
    student1.add_score(15);
    student2.add_score(92);
    std::println("");
    
    // 4. å¯¹è±¡ä¿¡æ¯è¾“å‡ºæµ‹è¯•
    std::println("4. å¯¹è±¡ä¿¡æ¯è¾“å‡ºæµ‹è¯•");
    std::println(student1.get_info());
    std::println(student2.get_info());
    std::println(teacher1.get_info());
    std::println("");
    
    // 5. å¯¹è±¡äº¤äº’æµ‹è¯•
    std::println("5. å¯¹è±¡äº¤äº’æµ‹è¯•");
    std::println(teacher1.teach(student1.get_name()));
    std::println(teacher1.teach(student2.get_name()));
    std::println("");
    
    // 6. è¯¾ç¨‹ç®¡ç†æµ‹è¯•
    std::println("6. è¯¾ç¨‹ç®¡ç†æµ‹è¯•");
    std::println(course1.get_enrollment_info());
    course1.add_student(); // å¼ ä¸‰åŠ å…¥
    course1.add_student(); // æå››åŠ å…¥
    course1.add_student(); // å…¶ä»–å­¦ç”ŸåŠ å…¥
    std::println(course1.get_enrollment_info());
    std::println("è¯¾ç¨‹æ˜¯å¦å·²æ»¡: " + course1.is_full());
    std::println("");
    
    // 7. é™æ€æ–¹æ³•æµ‹è¯•
    std::println("7. é™æ€æ–¹æ³•æµ‹è¯•");
    school_name : string = Student::get_school_name();
    std::println("å­¦æ ¡åç§°: " + school_name);
    std::println("");
    
    // 8. å­—æ®µè®¿é—®æµ‹è¯•
    std::println("8. å­—æ®µè®¿é—®æµ‹è¯•");
    std::println("ç›´æ¥è®¿é—®å­¦ç”Ÿå§“å: " + student1.name);
    std::println("ç›´æ¥è®¿é—®å­¦ç”Ÿå¹´é¾„: " + student1.age);
    std::println("ç›´æ¥è®¿é—®æ•™å¸ˆå§“å: " + teacher1.name);
    std::println("ç›´æ¥è®¿é—®æ•™å¸ˆç§‘ç›®: " + teacher1.subject);
    std::println("");
    
    // 9. å¤šä¸ªå¯¹è±¡æ“ä½œæµ‹è¯•
    std::println("9. å¤šä¸ªå¯¹è±¡æ“ä½œæµ‹è¯•");
    students_count : int = 0;
    teachers_count : int = 0;
    courses_count : int = 0;
    
    // æ¨¡æ‹Ÿç»Ÿè®¡
    students_count = students_count + 1; // student1
    students_count = students_count + 1; // student2
    teachers_count = teachers_count + 1; // teacher1
    courses_count = courses_count + 1;   // course1
    
    std::println("ç»Ÿè®¡ç»“æœ:");
    std::println("å­¦ç”Ÿæ•°é‡: " + students_count);
    std::println("æ•™å¸ˆæ•°é‡: " + teachers_count);
    std::println("è¯¾ç¨‹æ•°é‡: " + courses_count);
    std::println("");
    
    // 10. ç»¼åˆæµ‹è¯•
    std::println("10. ç»¼åˆæµ‹è¯• - æ¨¡æ‹Ÿä¸Šè¯¾åœºæ™¯");
    std::println("=== ä¸Šè¯¾åœºæ™¯æ¨¡æ‹Ÿ ===");
    std::println("å­¦æ ¡: " + Student::get_school_name());
    std::println("è¯¾ç¨‹: " + course1.get_enrollment_info());
    std::println("æˆè¯¾: " + teacher1.teach("å…¨ç­åŒå­¦"));
    std::println("å­¦ç”Ÿè¡¨ç°:");
    std::println("  " + student1.get_info());
    std::println("  " + student2.get_info());
    std::println("=== åœºæ™¯ç»“æŸ ===");
    std::println("");
    
    std::println("ğŸ‰ åŸºç¡€OOPæµ‹è¯•å®Œæˆ!");
    std::println("=====================================");
    
    return 0;
};
