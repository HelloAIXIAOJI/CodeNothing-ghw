// 简化的Math库测试

using lib <io>;
using lib <math>;
using ns std;

fn main() : int {
    std::println("🧮 Math库测试开始");
    
    // 1. 基础数学函数测试
    std::println("1. 基础数学函数测试");
    
    result1 : float = abs("-5.5");
    std::println("abs(-5.5) = " + result1);
    
    result2 : float = max("10", "20");
    std::println("max(10, 20) = " + result2);
    
    result3 : float = min("10", "20");
    std::println("min(10, 20) = " + result3);
    
    result4 : float = pow("2", "3");
    std::println("pow(2, 3) = " + result4);
    
    result5 : float = sqrt("16");
    std::println("sqrt(16) = " + result5);
    
    std::println("");
    
    // 2. 三角函数测试
    std::println("2. 三角函数测试");
    using ns trig;
    
    sin_val : float = sin("0");
    std::println("sin(0) = " + sin_val);
    
    cos_val : float = cos("0");
    std::println("cos(0) = " + cos_val);
    
    pi_quarter : float = to_radians("45");
    sin_45 : float = sin(pi_quarter);
    std::println("sin(45°) = " + sin_45);
    
    std::println("");
    
    // 3. 对数函数测试
    std::println("3. 对数函数测试");
    using ns log;
    
    ln_val : float = ln("2.718");
    std::println("ln(2.718) = " + ln_val);
    
    log10_val : float = log10("100");
    std::println("log10(100) = " + log10_val);
    
    log2_val : float = log2("8");
    std::println("log2(8) = " + log2_val);
    
    std::println("");
    
    // 4. 数学常数测试
    std::println("4. 数学常数测试");
    using ns constants;
    
    pi_val : float = pi();
    std::println("π = " + pi_val);
    
    e_val : float = e();
    std::println("e = " + e_val);
    
    phi_val : float = phi();
    std::println("φ = " + phi_val);
    
    sqrt2_val : float = sqrt2();
    std::println("√2 = " + sqrt2_val);
    
    std::println("");

    // 5. 扩展基础函数测试
    std::println("5. 扩展基础函数测试");

    cbrt_val : float = cbrt("8");
    std::println("cbrt(8) = " + cbrt_val);

    ceil_val : float = ceil("3.2");
    std::println("ceil(3.2) = " + ceil_val);

    floor_val : float = floor("3.8");
    std::println("floor(3.8) = " + floor_val);

    round_val : float = round("3.6");
    std::println("round(3.6) = " + round_val);

    sign_val : int = sign("-5");
    std::println("sign(-5) = " + sign_val);

    std::println("");

    // 6. 双曲函数测试
    std::println("6. 双曲函数测试");
    using ns hyperbolic;

    sinh_val : float = sinh("1");
    std::println("sinh(1) = " + sinh_val);

    cosh_val : float = cosh("0");
    std::println("cosh(0) = " + cosh_val);

    tanh_val : float = tanh("1");
    std::println("tanh(1) = " + tanh_val);

    std::println("");

    // 7. 统计函数测试
    std::println("7. 统计函数测试");
    using ns stats;

    mean_val : float = mean("1", "2", "3", "4", "5");
    std::println("mean(1,2,3,4,5) = " + mean_val);

    median_val : float = median("1", "3", "2", "5", "4");
    std::println("median(1,3,2,5,4) = " + median_val);

    std::println("");

    // 8. 随机数生成测试
    std::println("8. 随机数生成测试");
    using ns random;

    seed("12345");
    std::println("设置随机种子: 12345");

    rand1 : float = random();
    std::println("random() = " + rand1);

    rand2 : float = random();
    std::println("random() = " + rand2);

    randint_val : int = randint("1", "10");
    std::println("randint(1, 10) = " + randint_val);

    uniform_val : float = uniform("0", "100");
    std::println("uniform(0, 100) = " + uniform_val);

    std::println("");

    // 9. 数值分析测试
    std::println("9. 数值分析测试");
    using ns numeric;

    fact_val : int = factorial("5");
    std::println("factorial(5) = " + fact_val);

    comb_val : int = combination("5", "2");
    std::println("combination(5, 2) = " + comb_val);

    perm_val : int = permutation("5", "2");
    std::println("permutation(5, 2) = " + perm_val);

    gcd_val : int = gcd("12", "8");
    std::println("gcd(12, 8) = " + gcd_val);

    lcm_val : int = lcm("12", "8");
    std::println("lcm(12, 8) = " + lcm_val);

    std::println("");

    // 10. 扩展常数测试
    std::println("10. 扩展常数测试");

    euler_gamma_val : float = euler_gamma();
    std::println("欧拉常数γ = " + euler_gamma_val);

    frac_1_pi_val : float = frac_1_pi();
    std::println("1/π = " + frac_1_pi_val);

    ln_2_val : float = ln_2();
    std::println("ln(2) = " + ln_2_val);

    std::println("");

    std::println("🎉 扩展Math库测试完成!");
    std::println("=====================================");
    std::println("新增功能:");
    std::println("✅ 扩展基础函数 (cbrt, ceil, floor, round, sign)");
    std::println("✅ 双曲函数 (sinh, cosh, tanh, asinh, acosh, atanh)");
    std::println("✅ 统计函数 (mean, median, stddev, variance)");
    std::println("✅ 随机数生成 (seed, random, randint, uniform)");
    std::println("✅ 数值分析 (factorial, combination, permutation, gcd, lcm)");
    std::println("✅ 扩展数学常数 (euler_gamma, frac_1_pi, ln_2, etc.)");

    return 0;
};
