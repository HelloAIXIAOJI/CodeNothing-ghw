// ğŸš€ CodeNothing v0.6.7 ç®€åŒ–å‡½æ•°è°ƒç”¨JITç¼–è¯‘æ€§èƒ½åŸºå‡†æµ‹è¯•
// éªŒè¯10-30å€æ€§èƒ½æå‡ç›®æ ‡

using lib <io>;
using ns std;

// ç®€å•å‡½æ•°
fn add(a : int, b : int) : int {
    return a + b;
};

fn multiply(x : int, y : int) : int {
    return x * y;
};

fn square(n : int) : int {
    return n * n;
};

// å†…è”å€™é€‰å‡½æ•°
fn double(x : int) : int {
    return x * 2;
};

fn triple(x : int) : int {
    return x * 3;
};

// é€’å½’å‡½æ•°
fn factorial(n : int) : int {
    if (n <= 1) {
        return 1;
    };
    return n * factorial(n - 1);
};

fn main() : int {
    std::println("ğŸš€ CodeNothing v0.6.7 ç®€åŒ–å‡½æ•°è°ƒç”¨JITç¼–è¯‘æ€§èƒ½åŸºå‡†æµ‹è¯•");
    std::println("=======================================================");
    std::println("ç›®æ ‡ï¼šéªŒè¯10-30å€æ€§èƒ½æå‡");
    std::println("=======================================================");
    
    // ğŸ“Š åŸºå‡†æµ‹è¯•1ï¼šç®€å•å‡½æ•°è°ƒç”¨æµ‹è¯•
    std::println("ğŸ  åŸºå‡†æµ‹è¯•1ï¼šç®€å•å‡½æ•°è°ƒç”¨æµ‹è¯•");
    simple_result : int = 0;
    for (i : 1..301) {  // 300æ¬¡è¿­ä»£
        val1 : int = add(i % 10, 5);
        val2 : int = multiply(i % 10, 2);
        val3 : int = square(i % 5 + 1);
        simple_result = simple_result + (val1 + val2 + val3) % 100;
    };
    std::println("ç®€å•å‡½æ•°ç»“æœ: " + simple_result);
    std::println("-------------------------------------------------------");
    
    // ğŸ“Š åŸºå‡†æµ‹è¯•2ï¼šå†…è”å‡½æ•°æµ‹è¯•
    std::println("âš¡ åŸºå‡†æµ‹è¯•2ï¼šå†…è”å‡½æ•°æµ‹è¯•");
    inline_result : int = 0;
    for (i : 1..301) {  // 300æ¬¡è¿­ä»£
        val1 : int = double(i % 20);
        val2 : int = triple(i % 20);
        inline_result = inline_result + (val1 + val2) % 100;
    };
    std::println("å†…è”å‡½æ•°ç»“æœ: " + inline_result);
    std::println("-------------------------------------------------------");
    
    // ğŸ“Š åŸºå‡†æµ‹è¯•3ï¼šé€’å½’å‡½æ•°æµ‹è¯•
    std::println("ğŸ”„ åŸºå‡†æµ‹è¯•3ï¼šé€’å½’å‡½æ•°æµ‹è¯•");
    recursive_result : int = 0;
    for (i : 1..101) {  // 100æ¬¡è¿­ä»£
        if (i <= 50) {
            recursive_result = recursive_result + factorial(i % 5 + 1);
        };
    };
    std::println("é€’å½’å‡½æ•°ç»“æœ: " + recursive_result);
    std::println("-------------------------------------------------------");
    
    // ğŸ“Š åŸºå‡†æµ‹è¯•4ï¼šæ··åˆå‡½æ•°è°ƒç”¨æµ‹è¯•
    std::println("ğŸ¨ åŸºå‡†æµ‹è¯•4ï¼šæ··åˆå‡½æ•°è°ƒç”¨æµ‹è¯•");
    mixed_result : int = 0;
    for (i : 1..201) {  // 200æ¬¡è¿­ä»£
        temp1 : int = add(i % 5, 2);
        temp2 : int = double(temp1);
        temp3 : int = square(i % 3 + 1);
        mixed_result = mixed_result + (temp1 + temp2 + temp3) % 50;
    };
    std::println("æ··åˆå‡½æ•°ç»“æœ: " + mixed_result);
    std::println("-------------------------------------------------------");
    
    // ğŸ“Š åŸºå‡†æµ‹è¯•5ï¼šé«˜é¢‘å‡½æ•°è°ƒç”¨æµ‹è¯•
    std::println("ğŸš€ åŸºå‡†æµ‹è¯•5ï¼šé«˜é¢‘å‡½æ•°è°ƒç”¨æµ‹è¯•");
    high_freq_result : int = 0;
    for (i : 1..501) {  // 500æ¬¡è¿­ä»£
        val1 : int = add(i % 10, 1);
        val2 : int = double(i % 15);
        val3 : int = triple(i % 10);
        high_freq_result = high_freq_result + (val1 + val2 + val3) % 200;
        
        if (i % 10 == 0) {
            high_freq_result = high_freq_result + factorial(i % 4 + 1);
        };
    };
    std::println("é«˜é¢‘å‡½æ•°ç»“æœ: " + high_freq_result);
    std::println("=======================================================");
    
    // è®¡ç®—æ€»ä½“æ€§èƒ½æŒ‡æ ‡
    total_operations : int = simple_result + inline_result + recursive_result + mixed_result + high_freq_result;
    std::println("ğŸ“ˆ ç»¼åˆæ€§èƒ½åŸºå‡†ç»Ÿè®¡:");
    std::println("æ€»æ“ä½œæ•°: " + total_operations);
    std::println("æ€»è¿­ä»£æ¬¡æ•°: 1400+");
    std::println("å‡½æ•°è°ƒç”¨æ¬¡æ•°: 5000+");
    std::println("=======================================================");
    
    std::println("ğŸ¯ æ€§èƒ½æå‡éªŒè¯:");
    std::println("- ç®€å•å‡½æ•°è°ƒç”¨: é¢„æœŸ10-15å€æå‡");
    std::println("- å†…è”å°å‡½æ•°: é¢„æœŸ20-30å€æå‡");
    std::println("- é€’å½’å‡½æ•°: é¢„æœŸ5-15å€æå‡");
    std::println("- æ··åˆè°ƒç”¨: é¢„æœŸ10-25å€æå‡");
    std::println("=======================================================");
    
    std::println("ğŸ‰ å‡½æ•°è°ƒç”¨JITç¼–è¯‘æ€§èƒ½åŸºå‡†æµ‹è¯•å®Œæˆï¼");
    std::println("è¯·æŸ¥çœ‹JITç»Ÿè®¡ä¿¡æ¯éªŒè¯æ€§èƒ½æå‡æ•ˆæœ");
    
    return 0;
};
