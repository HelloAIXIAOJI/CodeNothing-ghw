// 🚀 v0.6.2 简单读写锁基准测试
using lib <io>;
using ns std;

fn main() : int {
    std::println("🚀 v0.6.2 简单读写锁基准测试");
    
    // 分配一些指针
    value1 : int = 100;
    value2 : int = 200;
    value3 : int = 300;
    
    ptr1 : *int = &value1;
    ptr2 : *int = &value2;
    ptr3 : *int = &value3;
    
    std::println("✅ 指针分配完成");
    
    // 大量读取操作
    std::println("=== 执行大量读取操作 ===");
    
    i : int = 0;
    sum : int = 0;
    
    while (i < 50) {
        temp1 : int = *ptr1;
        temp2 : int = *ptr2;
        temp3 : int = *ptr3;
        
        sum = sum + temp1 + temp2 + temp3;
        i = i + 1;
    };
    
    std::println("✅ 完成150次读取操作");
    std::println("总和:", sum);
    
    std::println("🎉 基准测试完成！");
    
    return 0;
};
