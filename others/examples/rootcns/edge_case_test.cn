// ğŸ”¬ è¾¹ç•Œæƒ…å†µæµ‹è¯• - æµ‹è¯•å„ç§æç«¯è¾¹ç•Œæƒ…å†µ
using lib <io>;
using ns std;
using ns edge;

fn main() : int {
    std::println("ğŸ”¬ å¼€å§‹è¾¹ç•Œæƒ…å†µæµ‹è¯• ğŸ”¬");
    
    // ========== æµ‹è¯•1: ç©ºå‡½æ•°ä½“ ==========
    std::println("=== æµ‹è¯•1: ç©ºå‡½æ•°ä½“ ===");
    edge::empty_function();
    std::println("âœ… ç©ºå‡½æ•°ä½“æµ‹è¯•é€šè¿‡");
    
    // ========== æµ‹è¯•2: åªæœ‰returnçš„å‡½æ•° ==========
    std::println("=== æµ‹è¯•2: åªæœ‰returnçš„å‡½æ•° ===");
    edge::only_return();
    std::println("âœ… åªæœ‰returnçš„å‡½æ•°æµ‹è¯•é€šè¿‡");
    
    // ========== æµ‹è¯•3: å¤šä¸ªreturnè¯­å¥ ==========
    std::println("=== æµ‹è¯•3: å¤šä¸ªreturnè¯­å¥ ===");
    edge::multiple_returns(true);
    edge::multiple_returns(false);
    std::println("âœ… å¤šä¸ªreturnè¯­å¥æµ‹è¯•é€šè¿‡");
    
    // ========== æµ‹è¯•4: æ·±åº¦åµŒå¥—ifè¯­å¥ ==========
    std::println("=== æµ‹è¯•4: æ·±åº¦åµŒå¥—ifè¯­å¥ ===");
    edge::nested_if(5);
    std::println("âœ… æ·±åº¦åµŒå¥—ifè¯­å¥æµ‹è¯•é€šè¿‡");
    
    // ========== æµ‹è¯•5: å‚æ•°è¾¹ç•Œå€¼ ==========
    std::println("=== æµ‹è¯•5: å‚æ•°è¾¹ç•Œå€¼ ===");
    edge::boundary_test(0);
    edge::boundary_test(1);
    edge::boundary_test(2);
    std::println("âœ… å‚æ•°è¾¹ç•Œå€¼æµ‹è¯•é€šè¿‡");
    
    // ========== æµ‹è¯•6: å¸ƒå°”é€»è¾‘è¾¹ç•Œ ==========
    std::println("=== æµ‹è¯•6: å¸ƒå°”é€»è¾‘è¾¹ç•Œ ===");
    edge::bool_test(true, false);
    edge::bool_test(false, true);
    edge::bool_test(true, true);
    edge::bool_test(false, false);
    std::println("âœ… å¸ƒå°”é€»è¾‘è¾¹ç•Œæµ‹è¯•é€šè¿‡");
    
    std::println("ğŸ‰ æ‰€æœ‰è¾¹ç•Œæƒ…å†µæµ‹è¯•é€šè¿‡ï¼ç³»ç»Ÿæå…¶ç¨³å®šï¼ ğŸ‰");
    return 0;
};

// ========== è¾¹ç•Œæƒ…å†µå‘½åç©ºé—´ ==========
ns edge {
    // ç©ºå‡½æ•°ä½“
    fn empty_function() : void {
        // ä»€ä¹ˆéƒ½ä¸åš
    };
    
    // åªæœ‰returnçš„å‡½æ•°
    fn only_return() : void {
        return;
    };
    
    // å¤šä¸ªreturnè¯­å¥
    fn multiple_returns(flag : bool) : void {
        if (flag) {
            std::println("  è¿”å›è·¯å¾„1");
            return;
        } else {
            std::println("  è¿”å›è·¯å¾„2");
            return;
        };
        std::println("  è¿™è¡Œä¸åº”è¯¥æ‰§è¡Œ");
    };
    
    // æ·±åº¦åµŒå¥—ifè¯­å¥
    fn nested_if(n : int) : void {
        if (n > 0) {
            if (n > 1) {
                if (n > 2) {
                    if (n > 3) {
                        if (n > 4) {
                            std::println("  æ·±åº¦åµŒå¥—: n > 4");
                        } else {
                            std::println("  æ·±åº¦åµŒå¥—: n = 4");
                        };
                    } else {
                        std::println("  æ·±åº¦åµŒå¥—: n = 3");
                    };
                } else {
                    std::println("  æ·±åº¦åµŒå¥—: n = 2");
                };
            } else {
                std::println("  æ·±åº¦åµŒå¥—: n = 1");
            };
        } else {
            std::println("  æ·±åº¦åµŒå¥—: n <= 0");
        };
    };
    
    // å‚æ•°è¾¹ç•Œå€¼æµ‹è¯•
    fn boundary_test(value : int) : void {
        if (value == 0) {
            std::println("  è¾¹ç•Œå€¼: é›¶");
        } else {
            if (value > 0) {
                std::println("  è¾¹ç•Œå€¼: æ­£æ•°");
            } else {
                std::println("  è¾¹ç•Œå€¼: è´Ÿæ•°");
            };
        };
    };
    
    // å¸ƒå°”é€»è¾‘è¾¹ç•Œæµ‹è¯•
    fn bool_test(a : bool, b : bool) : void {
        if (a) {
            if (b) {
                std::println("  å¸ƒå°”: true && true");
            } else {
                std::println("  å¸ƒå°”: true && false");
            };
        } else {
            if (b) {
                std::println("  å¸ƒå°”: false && true");
            } else {
                std::println("  å¸ƒå°”: false && false");
            };
        };
    };
};
