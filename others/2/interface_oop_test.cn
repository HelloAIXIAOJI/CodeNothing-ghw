// CodeNothing æ¥å£OOPæµ‹è¯•
// æµ‹è¯•æ¥å£å®šä¹‰ã€å®ç°ç­‰åŠŸèƒ½

using lib <io>;
using ns std;

// å¯ç»˜åˆ¶æ¥å£
interface Drawable {
    fn draw() : string;
    fn get_area() : float;
};

// å¯ç§»åŠ¨æ¥å£
interface Movable {
    fn move_to(x : int, y : int) : string;
    fn get_position() : string;
};

// åŸºç¡€å½¢çŠ¶ç±»
class Shape {
    protected name : string;
    protected x : int;
    protected y : int;
    
    constructor(name : string, x : int, y : int) {
        this.name = name;
        this.x = x;
        this.y = y;
        std::println("åˆ›å»ºå½¢çŠ¶: " + name + " ä½ç½®: (" + x + ", " + y + ")");
    };
    
    fn get_name() : string {
        return this.name;
    };
    
    fn get_x() : int {
        return this.x;
    };
    
    fn get_y() : int {
        return this.y;
    };
    
    virtual fn get_info() : string {
        return "å½¢çŠ¶: " + this.name + " ä½ç½®: (" + this.x + ", " + this.y + ")";
    };
};

// åœ†å½¢ç±» - ç»§æ‰¿Shapeå¹¶å®ç°æ¥å£
class Circle extends Shape implements Drawable, Movable {
    private radius : float;
    
    constructor(name : string, x : int, y : int, radius : float) {
        this.name = name;
        this.x = x;
        this.y = y;
        this.radius = radius;
        std::println("åˆ›å»ºåœ†å½¢: " + name + " åŠå¾„: " + radius);
    };
    
    // å®ç°Drawableæ¥å£
    fn draw() : string {
        return "ç»˜åˆ¶åœ†å½¢ " + this.name + " åŠå¾„: " + this.radius;
    };
    
    fn get_area() : float {
        return 3.14159 * this.radius * this.radius;
    };
    
    // å®ç°Movableæ¥å£
    fn move_to(new_x : int, new_y : int) : string {
        this.x = new_x;
        this.y = new_y;
        return "åœ†å½¢ " + this.name + " ç§»åŠ¨åˆ°: (" + new_x + ", " + new_y + ")";
    };
    
    fn get_position() : string {
        return "åœ†å½¢ " + this.name + " ä½ç½®: (" + this.x + ", " + this.y + ")";
    };
    
    // åœ†å½¢ç‰¹æœ‰æ–¹æ³•
    fn get_radius() : float {
        return this.radius;
    };
    
    fn set_radius(new_radius : float) : void {
        this.radius = new_radius;
        std::println("åœ†å½¢ " + this.name + " åŠå¾„æ›´æ–°ä¸º: " + new_radius);
        return;
    };
    
    override fn get_info() : string {
        return "åœ†å½¢: " + this.name + " ä½ç½®: (" + this.x + ", " + this.y + ") åŠå¾„: " + this.radius;
    };
};

// çŸ©å½¢ç±» - ç»§æ‰¿Shapeå¹¶å®ç°æ¥å£
class Rectangle extends Shape implements Drawable, Movable {
    private width : float;
    private height : float;
    
    constructor(name : string, x : int, y : int, width : float, height : float) {
        this.name = name;
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
        std::println("åˆ›å»ºçŸ©å½¢: " + name + " å°ºå¯¸: " + width + "x" + height);
    };
    
    // å®ç°Drawableæ¥å£
    fn draw() : string {
        return "ç»˜åˆ¶çŸ©å½¢ " + this.name + " å°ºå¯¸: " + this.width + "x" + this.height;
    };
    
    fn get_area() : float {
        return this.width * this.height;
    };
    
    // å®ç°Movableæ¥å£
    fn move_to(new_x : int, new_y : int) : string {
        this.x = new_x;
        this.y = new_y;
        return "çŸ©å½¢ " + this.name + " ç§»åŠ¨åˆ°: (" + new_x + ", " + new_y + ")";
    };
    
    fn get_position() : string {
        return "çŸ©å½¢ " + this.name + " ä½ç½®: (" + this.x + ", " + this.y + ")";
    };
    
    // çŸ©å½¢ç‰¹æœ‰æ–¹æ³•
    fn get_width() : float {
        return this.width;
    };
    
    fn get_height() : float {
        return this.height;
    };
    
    fn get_perimeter() : float {
        return 2.0 * (this.width + this.height);
    };
    
    override fn get_info() : string {
        return "çŸ©å½¢: " + this.name + " ä½ç½®: (" + this.x + ", " + this.y + ") å°ºå¯¸: " + this.width + "x" + this.height;
    };
};

// ä¸»å‡½æ•°
fn main() : int {
    std::println("ğŸ”· CodeNothing æ¥å£OOPæµ‹è¯•å¼€å§‹");
    std::println("=====================================");
    
    // 1. åˆ›å»ºå®ç°æ¥å£çš„å¯¹è±¡
    std::println("1. åˆ›å»ºå®ç°æ¥å£çš„å¯¹è±¡");
    circle : Circle = new Circle("åœ†1", 10, 20, 5.0);
    rectangle : Rectangle = new Rectangle("çŸ©å½¢1", 30, 40, 8.0, 6.0);
    std::println("");
    
    // 2. åŸºç¡€æ–¹æ³•è°ƒç”¨æµ‹è¯•
    std::println("2. åŸºç¡€æ–¹æ³•è°ƒç”¨æµ‹è¯•");
    std::println("åœ†å½¢åç§°: " + circle.get_name());
    std::println("åœ†å½¢ä½ç½®: (" + circle.get_x() + ", " + circle.get_y() + ")");
    std::println("çŸ©å½¢åç§°: " + rectangle.get_name());
    std::println("çŸ©å½¢ä½ç½®: (" + rectangle.get_x() + ", " + rectangle.get_y() + ")");
    std::println("");
    
    // 3. Drawableæ¥å£æ–¹æ³•æµ‹è¯•
    std::println("3. Drawableæ¥å£æ–¹æ³•æµ‹è¯•");
    std::println(circle.draw());
    std::println("åœ†å½¢é¢ç§¯: " + circle.get_area());
    
    std::println(rectangle.draw());
    std::println("çŸ©å½¢é¢ç§¯: " + rectangle.get_area());
    std::println("");
    
    // 4. Movableæ¥å£æ–¹æ³•æµ‹è¯•
    std::println("4. Movableæ¥å£æ–¹æ³•æµ‹è¯•");
    std::println(circle.get_position());
    std::println(circle.move_to(50, 60));
    std::println(circle.get_position());
    
    std::println(rectangle.get_position());
    std::println(rectangle.move_to(70, 80));
    std::println(rectangle.get_position());
    std::println("");
    
    // 5. å­ç±»ç‰¹æœ‰æ–¹æ³•æµ‹è¯•
    std::println("5. å­ç±»ç‰¹æœ‰æ–¹æ³•æµ‹è¯•");
    std::println("åœ†å½¢åŠå¾„: " + circle.get_radius());
    circle.set_radius(7.0);
    std::println("æ›´æ–°ååŠå¾„: " + circle.get_radius());
    std::println("æ›´æ–°åé¢ç§¯: " + circle.get_area());
    
    std::println("çŸ©å½¢å®½åº¦: " + rectangle.get_width());
    std::println("çŸ©å½¢é«˜åº¦: " + rectangle.get_height());
    std::println("çŸ©å½¢å‘¨é•¿: " + rectangle.get_perimeter());
    std::println("");
    
    // 6. å¯¹è±¡ä¿¡æ¯è¾“å‡ºæµ‹è¯•
    std::println("6. å¯¹è±¡ä¿¡æ¯è¾“å‡ºæµ‹è¯•");
    std::println(circle.get_info());
    std::println(rectangle.get_info());
    std::println("");
    
    // 7. ç»¼åˆæ¥å£åŠŸèƒ½æ¼”ç¤º
    std::println("7. ç»¼åˆæ¥å£åŠŸèƒ½æ¼”ç¤º");
    std::println("=== å›¾å½¢ç»˜åˆ¶ç³»ç»Ÿ ===");
    
    std::println("åˆå§‹çŠ¶æ€:");
    std::println("  " + circle.get_info());
    std::println("  " + rectangle.get_info());
    std::println("");
    
    std::println("ç»˜åˆ¶æ“ä½œ:");
    std::println("  " + circle.draw());
    std::println("  " + rectangle.draw());
    std::println("");
    
    std::println("é¢ç§¯è®¡ç®—:");
    std::println("  åœ†å½¢é¢ç§¯: " + circle.get_area());
    std::println("  çŸ©å½¢é¢ç§¯: " + rectangle.get_area());
    total_area : float = circle.get_area() + rectangle.get_area();
    std::println("  æ€»é¢ç§¯: " + total_area);
    std::println("");
    
    std::println("ç§»åŠ¨æ“ä½œ:");
    std::println("  " + circle.move_to(100, 100));
    std::println("  " + rectangle.move_to(200, 200));
    std::println("");
    
    std::println("æœ€ç»ˆä½ç½®:");
    std::println("  " + circle.get_position());
    std::println("  " + rectangle.get_position());
    
    std::println("=== ç»˜åˆ¶ç³»ç»Ÿæ¼”ç¤ºç»“æŸ ===");
    std::println("");
    
    std::println("âœ… æ¥å£OOPæµ‹è¯•å®Œæˆ!");
    std::println("=====================================");
    std::println("æµ‹è¯•ç»“æœ: æ¥å£å®šä¹‰ã€å®ç°ã€å¤šé‡æ¥å£åŠŸèƒ½æ­£å¸¸å·¥ä½œ");
    
    return 0;
};
