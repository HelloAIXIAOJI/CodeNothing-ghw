// ğŸ”¥ åµŒå¥—å‘½åç©ºé—´æµ‹è¯• - æµ‹è¯•nså¥—nsçš„åŠŸèƒ½
using lib <io>;
using ns std;

fn main() : int {
    std::println("ğŸ”¥ å¼€å§‹åµŒå¥—å‘½åç©ºé—´æµ‹è¯• ğŸ”¥");
    
    // ========== æµ‹è¯•1: äºŒçº§åµŒå¥— ==========
    std::println("=== æµ‹è¯•1: äºŒçº§åµŒå¥— ===");
    outer::inner::hello();
    std::println("âœ… äºŒçº§åµŒå¥—æµ‹è¯•é€šè¿‡");
    
    // ========== æµ‹è¯•2: ä¸‰çº§åµŒå¥— ==========
    std::println("=== æµ‹è¯•2: ä¸‰çº§åµŒå¥— ===");
    level1::level2::level3::deep_function();
    std::println("âœ… ä¸‰çº§åµŒå¥—æµ‹è¯•é€šè¿‡");
    
    // ========== æµ‹è¯•3: å››çº§åµŒå¥— ==========
    std::println("=== æµ‹è¯•3: å››çº§åµŒå¥— ===");
    a::b::c::d::very_deep();
    std::println("âœ… å››çº§åµŒå¥—æµ‹è¯•é€šè¿‡");
    
    // ========== æµ‹è¯•4: åµŒå¥—å‘½åç©ºé—´ä¸­çš„å‡½æ•°è°ƒç”¨ ==========
    std::println("=== æµ‹è¯•4: åµŒå¥—å‘½åç©ºé—´ä¸­çš„å‡½æ•°è°ƒç”¨ ===");
    outer::inner::call_sibling();
    std::println("âœ… åµŒå¥—å‘½åç©ºé—´å‡½æ•°è°ƒç”¨æµ‹è¯•é€šè¿‡");
    
    // ========== æµ‹è¯•5: ä¸åŒå±‚çº§çš„ç›¸åŒå‡½æ•°å ==========
    std::println("=== æµ‹è¯•5: ä¸åŒå±‚çº§çš„ç›¸åŒå‡½æ•°å ===");
    outer::test();
    outer::inner::test();
    level1::test();
    level1::level2::test();
    level1::level2::level3::test();
    std::println("âœ… ä¸åŒå±‚çº§ç›¸åŒå‡½æ•°åæµ‹è¯•é€šè¿‡");
    
    std::println("ğŸ‰ æ‰€æœ‰åµŒå¥—å‘½åç©ºé—´æµ‹è¯•é€šè¿‡ï¼ ğŸ‰");
    return 0;
};

// ========== äºŒçº§åµŒå¥—å‘½åç©ºé—´ ==========
ns outer {
    fn test() : void {
        std::println("  âœ“ outer::test");
    };
    
    ns inner {
        fn hello() : void {
            std::println("  âœ“ äºŒçº§åµŒå¥—: outer::inner::hello");
        };
        
        fn test() : void {
            std::println("  âœ“ outer::inner::test");
        };
        
        fn call_sibling() : void {
            std::println("  âœ“ åµŒå¥—å‘½åç©ºé—´ä¸­è°ƒç”¨å…¶ä»–å‡½æ•°");
            hello();
        };
    };
};

// ========== ä¸‰çº§åµŒå¥—å‘½åç©ºé—´ ==========
ns level1 {
    fn test() : void {
        std::println("  âœ“ level1::test");
    };
    
    ns level2 {
        fn test() : void {
            std::println("  âœ“ level1::level2::test");
        };
        
        ns level3 {
            fn deep_function() : void {
                std::println("  âœ“ ä¸‰çº§åµŒå¥—: level1::level2::level3::deep_function");
            };
            
            fn test() : void {
                std::println("  âœ“ level1::level2::level3::test");
            };
        };
    };
};

// ========== å››çº§åµŒå¥—å‘½åç©ºé—´ ==========
ns a {
    ns b {
        ns c {
            ns d {
                fn very_deep() : void {
                    std::println("  âœ“ å››çº§åµŒå¥—: a::b::c::d::very_deep");
                };
            };
        };
    };
};
