// å®Œæ•´çš„Forå¾ªç¯JITç¼–è¯‘æµ‹è¯•ç¨‹åº
using lib <io>;
using ns std;

fn main() : int {
    std::println("ğŸš€ å®Œæ•´çš„Forå¾ªç¯JITç¼–è¯‘æµ‹è¯•å¼€å§‹");
    
    // æµ‹è¯•1: åŸºæœ¬Forå¾ªç¯JITç¼–è¯‘
    std::println("\n=== æµ‹è¯•1: åŸºæœ¬Forå¾ªç¯JITç¼–è¯‘ ===");
    sum : int = 0;
    for (i : 1..111) {  // 110æ¬¡è¿­ä»£ï¼Œè¶…è¿‡JITé˜ˆå€¼
        sum = sum + i;
    };
    std::println("âœ… åŸºæœ¬Forå¾ªç¯æµ‹è¯•å®Œæˆï¼Œsum = " + sum);
    
    // æµ‹è¯•2: Forå¾ªç¯å†…å˜é‡å£°æ˜å’Œèµ‹å€¼
    std::println("\n=== æµ‹è¯•2: Forå¾ªç¯å†…å˜é‡å£°æ˜å’Œèµ‹å€¼ ===");
    total : int = 0;
    for (j : 1..106) {  // 105æ¬¡è¿­ä»£
        temp : int = j * 2;
        total = total + temp;
    };
    std::println("âœ… å˜é‡å£°æ˜å’Œèµ‹å€¼æµ‹è¯•å®Œæˆï¼Œtotal = " + total);
    
    // æµ‹è¯•3: Forå¾ªç¯å†…å¤åˆè¿ç®—
    std::println("\n=== æµ‹è¯•3: Forå¾ªç¯å†…å¤åˆè¿ç®— ===");
    product : int = 1;
    accumulator : int = 0;
    for (k : 1..101) {  // 100æ¬¡è¿­ä»£
        product = product * 2;
        product = product % 1000000;  // é˜²æ­¢æº¢å‡º
        accumulator = accumulator + k;
    };
    std::println("âœ… å¤åˆè¿ç®—æµ‹è¯•å®Œæˆï¼Œproduct = " + product + ", accumulator = " + accumulator);
    
    // æµ‹è¯•4: Forå¾ªç¯å†…å¤æ‚è¡¨è¾¾å¼
    std::println("\n=== æµ‹è¯•4: Forå¾ªç¯å†…å¤æ‚è¡¨è¾¾å¼ ===");
    result : int = 0;
    for (m : 1..121) {  // 120æ¬¡è¿­ä»£
        temp_calc : int = m * m + m - 1;
        result = result + temp_calc / 2;
    };
    std::println("âœ… å¤æ‚è¡¨è¾¾å¼æµ‹è¯•å®Œæˆï¼Œresult = " + result);
    
    // æµ‹è¯•5: åµŒå¥—Forå¾ªç¯JITç¼–è¯‘
    std::println("\n=== æµ‹è¯•5: åµŒå¥—Forå¾ªç¯JITç¼–è¯‘ ===");
    nested_result : int = 0;
    for (x : 1..16) {  // å¤–å±‚15æ¬¡
        for (y : 1..11) {  // å†…å±‚10æ¬¡ï¼Œæ€»å…±150æ¬¡
            local_sum : int = x + y;
            nested_result = nested_result + local_sum;
        };
    };
    std::println("âœ… åµŒå¥—å¾ªç¯æµ‹è¯•å®Œæˆï¼Œnested_result = " + nested_result);
    
    // æµ‹è¯•6: Forå¾ªç¯å†…å¤šç§è¯­å¥ç±»å‹
    std::println("\n=== æµ‹è¯•6: Forå¾ªç¯å†…å¤šç§è¯­å¥ç±»å‹ ===");
    mixed_result : int = 10;
    bonus : int = 0;
    for (n : 1..109) {  // 108æ¬¡è¿­ä»£
        // å˜é‡å£°æ˜
        factor : int = n % 5 + 1;
        // å¤åˆèµ‹å€¼
        mixed_result = mixed_result * factor;
        mixed_result = mixed_result % 100000;
        // ç®€å•è®¡ç®—
        bonus = bonus + n;
    };
    std::println("âœ… å¤šç§è¯­å¥ç±»å‹æµ‹è¯•å®Œæˆï¼Œmixed_result = " + mixed_result + ", bonus = " + bonus);

    // æµ‹è¯•7: Forå¾ªç¯èŒƒå›´è¡¨è¾¾å¼ç¼–è¯‘
    std::println("\n=== æµ‹è¯•7: Forå¾ªç¯èŒƒå›´è¡¨è¾¾å¼ç¼–è¯‘ ===");
    range_result : int = 0;
    start_val : int = 5;
    end_val : int = 105;
    for (r : start_val..end_val) {  // 100æ¬¡è¿­ä»£ï¼Œä½¿ç”¨å˜é‡ä½œä¸ºèŒƒå›´
        range_result = range_result + r;
    };
    std::println("âœ… èŒƒå›´è¡¨è¾¾å¼æµ‹è¯•å®Œæˆï¼Œrange_result = " + range_result);

    // æµ‹è¯•8: Forå¾ªç¯å˜é‡ç”Ÿå‘½å‘¨æœŸç®¡ç†
    std::println("\n=== æµ‹è¯•8: Forå¾ªç¯å˜é‡ç”Ÿå‘½å‘¨æœŸç®¡ç† ===");
    lifecycle_result : int = 0;
    for (lc : 1..111) {  // 110æ¬¡è¿­ä»£
        local_var : int = lc * 3;
        another_var : int = local_var + 1;
        lifecycle_result = lifecycle_result + another_var;
    };
    std::println("âœ… å˜é‡ç”Ÿå‘½å‘¨æœŸæµ‹è¯•å®Œæˆï¼Œlifecycle_result = " + lifecycle_result);
    
    std::println("\nğŸ‰ æ‰€æœ‰Forå¾ªç¯JITç¼–è¯‘æµ‹è¯•å®Œæˆï¼");
    std::println("è¯·æŸ¥çœ‹JITæ€§èƒ½ç»Ÿè®¡æŠ¥å‘Šä¸­çš„å¾ªç¯ç¼–è¯‘ä¿¡æ¯");
    
    return 0;
};
