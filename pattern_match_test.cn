// CodeNothing æ¨¡å¼åŒ¹é…æµ‹è¯•

using lib <io>;
using ns std;

fn main() : int {
    std::println("ğŸ¯ CodeNothing æ¨¡å¼åŒ¹é…æµ‹è¯•å¼€å§‹");
    std::println("=====================================");
    
    // 1. åŸºç¡€å­—é¢é‡æ¨¡å¼åŒ¹é…
    std::println("1. åŸºç¡€å­—é¢é‡æ¨¡å¼åŒ¹é…");
    
    value : int = 42;
    match (value) {
        1 => {
            std::println("åŒ¹é…åˆ°1");
        };
        42 => {
            std::println("âœ… åŒ¹é…åˆ°42");
        };
        _ => {
            std::println("å…¶ä»–å€¼");
        };
    };
    
    // 2. å­—ç¬¦ä¸²æ¨¡å¼åŒ¹é…
    std::println("\n2. å­—ç¬¦ä¸²æ¨¡å¼åŒ¹é…");
    
    name : string = "CodeNothing";
    match (name) {
        "Rust" => {
            std::println("è¿™æ˜¯Rust");
        };
        "CodeNothing" => {
            std::println("âœ… è¿™æ˜¯CodeNothing!");
        };
        _ => {
            std::println("æœªçŸ¥è¯­è¨€");
        };
    };
    
    // 3. å¸ƒå°”å€¼æ¨¡å¼åŒ¹é…
    std::println("\n3. å¸ƒå°”å€¼æ¨¡å¼åŒ¹é…");
    
    flag : bool = true;
    match (flag) {
        true => {
            std::println("âœ… æ ‡å¿—ä¸ºçœŸ");
        };
        false => {
            std::println("æ ‡å¿—ä¸ºå‡");
        };
    };
    
    // 4. å¤šé€‰æ¨¡å¼åŒ¹é… (æˆ–æ¨¡å¼)
    std::println("\n4. å¤šé€‰æ¨¡å¼åŒ¹é…");
    
    grade : int = 85;
    match (grade) {
        90 | 91 | 92 | 93 | 94 | 95 | 96 | 97 | 98 | 99 | 100 => {
            std::println("ä¼˜ç§€ (A)");
        };
        80 | 81 | 82 | 83 | 84 | 85 | 86 | 87 | 88 | 89 => {
            std::println("âœ… è‰¯å¥½ (B)");
        };
        70 | 71 | 72 | 73 | 74 | 75 | 76 | 77 | 78 | 79 => {
            std::println("ä¸­ç­‰ (C)");
        };
        _ => {
            std::println("éœ€è¦æ”¹è¿›");
        };
    };
    
    // 5. å˜é‡ç»‘å®šæ¨¡å¼
    std::println("\n5. å˜é‡ç»‘å®šæ¨¡å¼");
    
    number : int = 123;
    match (number) {
        0 => {
            std::println("é›¶");
        };
        x => {
            std::println("âœ… ç»‘å®šå˜é‡x = " + x);
        };
    };
    
    // 6. å®ˆå«æ¡ä»¶æ¨¡å¼
    std::println("\n6. å®ˆå«æ¡ä»¶æ¨¡å¼");
    
    score : int = 95;
    match (score) {
        x if x >= 90 => {
            std::println("âœ… ä¼˜ç§€åˆ†æ•°: " + x);
        };
        x if x >= 80 => {
            std::println("è‰¯å¥½åˆ†æ•°: " + x);
        };
        x if x >= 60 => {
            std::println("åŠæ ¼åˆ†æ•°: " + x);
        };
        x => {
            std::println("ä¸åŠæ ¼åˆ†æ•°: " + x);
        };
    };
    
    // 7. é€šé…ç¬¦æ¨¡å¼
    std::println("\n7. é€šé…ç¬¦æ¨¡å¼");
    
    unknown : int = 999;
    match (unknown) {
        1 => {
            std::println("ä¸€");
        };
        2 => {
            std::println("äºŒ");
        };
        _ => {
            std::println("âœ… é€šé…ç¬¦åŒ¹é…: å…¶ä»–æ•°å­—");
        };
    };
    
    // 8. matchè¡¨è¾¾å¼ï¼ˆè¿”å›å€¼ï¼‰
    std::println("\n8. matchè¡¨è¾¾å¼");
    
    day : int = 3;
    day_name : string = match (day) {
        1 => "æ˜ŸæœŸä¸€";
        2 => "æ˜ŸæœŸäºŒ";
        3 => "æ˜ŸæœŸä¸‰";
        4 => "æ˜ŸæœŸå››";
        5 => "æ˜ŸæœŸäº”";
        6 => "æ˜ŸæœŸå…­";
        7 => "æ˜ŸæœŸæ—¥";
        _ => "æ— æ•ˆæ—¥æœŸ";
    };
    std::println("âœ… ç¬¬" + day + "å¤©æ˜¯: " + day_name);
    
    // 9. åµŒå¥—match
    std::println("\n9. åµŒå¥—match");
    
    category : int = 1;
    subcategory : int = 2;
    
    result : string = match (category) {
        1 => {
            match (subcategory) {
                1 => "ç±»åˆ«1-å­ç±»1";
                2 => "ç±»åˆ«1-å­ç±»2";
                _ => "ç±»åˆ«1-å…¶ä»–";
            }
        };
        2 => {
            match (subcategory) {
                1 => "ç±»åˆ«2-å­ç±»1";
                2 => "ç±»åˆ«2-å­ç±»2";
                _ => "ç±»åˆ«2-å…¶ä»–";
            }
        };
        _ => "æœªçŸ¥ç±»åˆ«";
    };
    std::println("âœ… åµŒå¥—åŒ¹é…ç»“æœ: " + result);
    
    // 10. æ€§èƒ½æµ‹è¯• - å¤§é‡åŒ¹é…è§¦å‘JIT
    std::println("\n10. æ€§èƒ½æµ‹è¯• - JITä¼˜åŒ–");
    
    for (i : 1..20) {
        test_value : int = i % 5;
        match (test_value) {
            0 => {
                // JITåº”è¯¥ä¼˜åŒ–è¿™ä¸ªé¢‘ç¹æ‰§è¡Œçš„æ¨¡å¼
            };
            1 | 2 | 3 | 4 => {
                // å¤šé€‰æ¨¡å¼ä¹Ÿä¼šè¢«JITä¼˜åŒ–
            };
            _ => {
                // é€šé…ç¬¦
            };
        };
    };
    std::println("âœ… JITä¼˜åŒ–æµ‹è¯•å®Œæˆ");
    
    std::println("\n=====================================");
    std::println("ğŸ‰ æ¨¡å¼åŒ¹é…æµ‹è¯•å…¨éƒ¨å®Œæˆ!");
    std::println("âœ… å­—é¢é‡æ¨¡å¼åŒ¹é…");
    std::println("âœ… å˜é‡ç»‘å®šæ¨¡å¼");
    std::println("âœ… å®ˆå«æ¡ä»¶æ¨¡å¼");
    std::println("âœ… å¤šé€‰æ¨¡å¼ (æˆ–æ¨¡å¼)");
    std::println("âœ… é€šé…ç¬¦æ¨¡å¼");
    std::println("âœ… matchè¡¨è¾¾å¼");
    std::println("âœ… åµŒå¥—match");
    std::println("âœ… JITä¼˜åŒ–æ”¯æŒ");
    
    return 0;
};
