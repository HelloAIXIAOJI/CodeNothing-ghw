// è¯æ³•åˆ†æå™¨æµ‹è¯•
// æµ‹è¯•åŸºç¡€çš„tokenè¯†åˆ«ã€æ³¨é‡Šå¤„ç†ã€å­—ç¬¦ä¸²å¤„ç†ç­‰

using lib <io>;
using ns std;

fn main() : int {
    std::println("ğŸ” è¯æ³•åˆ†æå™¨ (Lexer) æµ‹è¯•");
    std::println("==========================");
    
    // æµ‹è¯•1: åŸºç¡€æ ‡è¯†ç¬¦å’Œå…³é”®å­—
    std::println("æµ‹è¯•1: åŸºç¡€æ ‡è¯†ç¬¦å’Œå…³é”®å­—");
    test_basic_tokens();
    
    // æµ‹è¯•2: æ•°å­—å­—é¢é‡
    std::println("æµ‹è¯•2: æ•°å­—å­—é¢é‡");
    test_number_literals();
    
    // æµ‹è¯•3: å­—ç¬¦ä¸²å­—é¢é‡
    std::println("æµ‹è¯•3: å­—ç¬¦ä¸²å­—é¢é‡");
    test_string_literals();
    
    // æµ‹è¯•4: è¿ç®—ç¬¦å’Œç¬¦å·
    std::println("æµ‹è¯•4: è¿ç®—ç¬¦å’Œç¬¦å·");
    test_operators_and_symbols();
    
    // æµ‹è¯•5: æ³¨é‡Šå¤„ç†
    std::println("æµ‹è¯•5: æ³¨é‡Šå¤„ç†");
    test_comments();
    
    std::println("âœ… è¯æ³•åˆ†æå™¨æµ‹è¯•å®Œæˆ");
    return 0;
};

fn test_basic_tokens() : void {
    std::println("  - å…³é”®å­—è¯†åˆ«: fn, if, else, for, while, class, interface");
    std::println("  - æ ‡è¯†ç¬¦è¯†åˆ«: variable_name, functionName, ClassName");
    std::println("  - ç±»å‹å…³é”®å­—: int, float, string, bool, void");
    std::println("  âœ… åŸºç¡€tokenè¯†åˆ«æ­£å¸¸");
};

fn test_number_literals() : void {
    // æ•´æ•°
    int_val : int = 42;

    // æµ®ç‚¹æ•°
    float_val : float = 3.14;
    scientific : float = 1.23e4;

    std::println("  - æ•´æ•°å­—é¢é‡: " + int_val);
    std::println("  - æµ®ç‚¹æ•°: " + float_val);
    std::println("  - ç§‘å­¦è®¡æ•°æ³•: " + scientific);
    std::println("  âœ… æ•°å­—å­—é¢é‡è§£ææ­£å¸¸");
};

fn test_string_literals() : void {
    // åŸºç¡€å­—ç¬¦ä¸²
    simple_string : string = "Hello World";
    
    // è½¬ä¹‰å­—ç¬¦
    escaped_string : string = "Line 1\nLine 2\tTabbed";
    
    // ç©ºå­—ç¬¦ä¸²
    empty_string : string = "";
    
    std::println("  - ç®€å•å­—ç¬¦ä¸²: " + simple_string);
    std::println("  - è½¬ä¹‰å­—ç¬¦: " + escaped_string);
    std::println("  - ç©ºå­—ç¬¦ä¸²é•¿åº¦: " + empty_string);
    std::println("  âœ… å­—ç¬¦ä¸²å­—é¢é‡è§£ææ­£å¸¸");
};

fn test_operators_and_symbols() : void {
    // ç®—æœ¯è¿ç®—ç¬¦
    a : int = 10;
    b : int = 3;
    
    add_result : int = a + b;
    sub_result : int = a - b;
    mul_result : int = a * b;
    div_result : int = a / b;
    mod_result : int = a % b;
    
    // æ¯”è¾ƒè¿ç®—ç¬¦
    eq_result : bool = a == b;
    ne_result : bool = a != b;
    gt_result : bool = a > b;
    lt_result : bool = a < b;
    ge_result : bool = a >= b;
    le_result : bool = a <= b;
    
    // é€»è¾‘è¿ç®—ç¬¦
    and_result : bool = true && false;
    or_result : bool = true || false;
    not_result : bool = !true;
    
    std::println("  - ç®—æœ¯è¿ç®—ç¬¦: +, -, *, /, %");
    std::println("  - æ¯”è¾ƒè¿ç®—ç¬¦: ==, !=, >, <, >=, <=");
    std::println("  - é€»è¾‘è¿ç®—ç¬¦: &&, ||, !");
    std::println("  - èµ‹å€¼è¿ç®—ç¬¦: =, +=, -=, *=, /=");
    std::println("  - ç‰¹æ®Šç¬¦å·: {}, [], (), ;, :, ., ,");
    std::println("  âœ… è¿ç®—ç¬¦å’Œç¬¦å·è¯†åˆ«æ­£å¸¸");
};

fn test_comments() : void {
    // å•è¡Œæ³¨é‡Šæµ‹è¯•
    value : int = 42; // è¿™æ˜¯å•è¡Œæ³¨é‡Š

    /!
     * å¤šè¡Œæ³¨é‡Šæµ‹è¯•
     * è¿™é‡Œå¯ä»¥å†™å¤šè¡Œå†…å®¹
     !/
    another_value : int = 100;

    std::println("  - å•è¡Œæ³¨é‡Š: // æ³¨é‡Šå†…å®¹");
    std::println("  - å¤šè¡Œæ³¨é‡Š: /! æ³¨é‡Šå†…å®¹ !/");
    std::println("  - æ³¨é‡Šä¸å½±å“ä»£ç æ‰§è¡Œ: " + value);
    std::println("  âœ… æ³¨é‡Šå¤„ç†æ­£å¸¸");
};
