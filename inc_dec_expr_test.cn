fn main() : int {
    // 测试表达式中的前置和后置自增/自减
    return test_inc_dec_expr();
};

fn test_inc_dec_expr() : int {
    // 初始化变量
    a : int = 5;
    b : int = 5;
    c : int = 5;
    d : int = 5;
    
    // 测试前置自增 (++a)：先增加，再返回新值
    x1 : int = ++a;  // a变为6，x1为6
    
    // 测试前置自减 (--b)：先减少，再返回新值
    x2 : int = --b;  // b变为4，x2为4
    
    // 测试后置自增 (c++)：先返回原值，再增加
    x3 : int = c++;  // c变为6，x3为5
    
    // 测试后置自减 (d--)：先返回原值，再减少
    x4 : int = d--;  // d变为4，x4为5
    
    // 验证变量的最终值
    if (a != 6) {
        return 1;  // 错误：a应该是6
    };
    
    if (b != 4) {
        return 2;  // 错误：b应该是4
    };
    
    if (c != 6) {
        return 3;  // 错误：c应该是6
    };
    
    if (d != 4) {
        return 4;  // 错误：d应该是4
    };
    
    // 验证表达式的返回值
    if (x1 != 6) {
        return 5;  // 错误：++a应该返回6
    };
    
    if (x2 != 4) {
        return 6;  // 错误：--b应该返回4
    };
    
    if (x3 != 5) {
        return 7;  // 错误：c++应该返回5
    };
    
    if (x4 != 5) {
        return 8;  // 错误：d--应该返回5
    };
    
    // 所有测试通过
    return 0;
};